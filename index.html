<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- CSS only -->
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/1429371588554bec356ef353d/07751bcbb6ea019136a0d069c.js");</script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>
    <script src="lodash.js"></script>
    <script data-main="scripts/app" src="scripts/require.js"></script>
    <!-- <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/1429371588554bec356ef353d/07751bcbb6ea019136a0d069c.js");</script> -->
    <script src="sorttable.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <script src="jquery.js"></script> 
    <script> 
    $(function(){
      $("#DivContent").load("data.html"); 
    });
    </script> 
    <!-- <script id="mcjs">
      function showPopup() {
    !function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/235bbd97a1426ca3bf743117a/28f231c56aede2fbd6904bbb1.js");
    //unsetting the cookie
    document.cookie = "MCPopupClosed=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";                  
    document.cookie = "MCPopupSubscribed=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
}
    
    //document.getElementById("payments_presentation").onclick = function() { showPopup(); }
    </script> -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3P3DR1M2XB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-3P3DR1M2XB');
    </script>


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<!-- <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css"> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script> -->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<link href="scss/bootstrap.min.css" rel="stylesheet">
<!-- <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script> -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-75271964-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-75271964-1');
    </script>


    <link rel="dns-prefetch" href="//fprimecapital.com">
<link rel="dns-prefetch" href="//s.w.org">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/fprimecapital.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>

<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#EEEEEE; font:18px "Nantes",serif;  width:35%;  z-index: 5000; border-radius: 25px;}
  .popup{
  display: none;
  position:fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  }
.btn-close {
    outline: none;
    opacity: 0.3;
    margin-left: 2%;
    margin-top: 2%;
}
  @media screen and (max-width: 1250px) 
  {
    #mc_embed_signup{width:55%; font:12px "Nantes",serif; max-height: 400px;}
  }
  @media screen and (max-width: 1000px) 
  {
    #mc_embed_signup{width:65%;}
  }
  @media screen and (max-width: 850px) 
  {
    #mc_embed_signup{width:75%;}
  }
  @media screen and (max-width: 600px) 
  {
    #mc_embed_signup{width:80%;}
  }
  @media screen and (max-width: 475px) 
  {
    #mc_embed_signup{width:80%;}
  }
  /* .popup .show {
  visibility: visible !important;
} */
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
  padding: 0 !important;
}



#keywords {
  margin: 0 auto;
  font-size: 1.2em;
  margin-bottom: 15px;
}


#keywords thead {
  cursor: pointer;
  background: #c9dff0;
}
#keywords thead tr th { 
  font-weight: bold;
  padding: 12px 30px;
  padding-left: 42px;
}
#keywords thead tr th span { 
  padding-right: 20px;
  background-repeat: no-repeat;
  background-position: 100% 100%;
}

#keywords thead tr th.headerSortUp, #keywords thead tr th.headerSortDown {
  background: #007cba;
}

#keywords thead tr th.headerSortUp span {
  background-image: url('https://i.imgur.com/SP99ZPJ.png');
}
#keywords thead tr th.headerSortDown span {
  background-image: url('https://i.imgur.com/RkA9MBo.png');
}


#keywords tbody tr { 
  color: #555;
}
#keywords tbody tr td {
  text-align: center;
  padding: 15px 10px;
}
#keywords tbody tr td.lalign {
  text-align: left;
}
br{
  line-height: 5px;
}

  h2{
      width:80%;
	  white-space: nowrap;
  }

  .center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 90%;
  }

.centerlogo {
    display: block;
    margin-left: auto;
    margin-right: auto;
    width: 30%;
  }
.all_options{
    align-self: flex-end;
    margin-left: 70%;

    
}

h6{
  color:black
}

table {
      height:500px;
      width: 120%;
      min-height: 100px;
      /* border-collapse: collapse; */
    }

    /* Zebra striping */
    tr:nth-of-type(even) {
      background: #eee;
      z-index: 1;
    }
    tr:nth-of-type(odd) {
      background: white;
      z-index: 1;
    }
    th {
      background: #333;
      color: white;
      font-weight: bold;
      cursor: s-resize;
      background-repeat: no-repeat;
      background-position: 3% center;
    }
    td, th {
      padding: 6px;
      border: 1px solid #ccc;
      text-align: left;
    }
    th.des:after {
      content: "\21E9";
    }
    th.aes:after {
      content: "\21E7";
    }
    table thead th:first-child {
      position: sticky;
      left: 0;
      z-index: 2;
    }
    table tbody th {
      position: sticky;
      left: 0;
      background: white;
      z-index: 1;
    }
    /*
	  Max width before this PARTICULAR table gets nasty
	  This query will take effect for any screen smaller than 760px
	  and also iPads specifically.
	  */
    @media only screen and (max-width: 760px),
    (min-device-width: 768px) and (max-device-width: 1024px) {
      .table-responsive {
        overflow-y: auto;
      }
      /* Force table to not be like tables anymore */
      /* table, thead, tbody, th, td, tr {
        display: block;
      } */
      /* Hide table headers (but not display: none;, for accessibility) */
      /* thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
      } */
      /* tr {
        border: 1px solid #ccc;
      } */
      /* td {
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 50%;
      } */
      /* td:before {
        position: absolute;
        top: 6px;
        left: 6px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
      } */
      /* Label the data */
      /* td:before {
        content: attr(data-th) ": ";
        font-weight: bold;
        width: 6.5em;
        display: inline-block;
      } */
    }

    /* Smartphones (portrait and landscape) ----------- */
    /* @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {
      body {
        padding: 0;
        margin: 0;
        width: 400px;
      }
    } */

    /* iPads (portrait and landscape) ----------- */
    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
      body {
        width: 495px;
      }
    }

    /* .nasdaq-dot {
  height: 15px;
  width: 15px;
  background-color: #1F1F1F;
  border-radius: 50%;
  margin-top: 10%;
  display:block;
  
}

.nasdaq-text{
  margin-left: 0%;
  margin-top: 0%
}

.fintech-dot {
  height: 15px;
  width: 15px;
  background-color: #A6D0D8;
  border-radius: 50%;
  display: block;
  margin-left: 0%;
  margin-top: 10%
}

.fintech-text{
  display: block;
  margin-left: 42%;
  margin-top: -1%
}

.EMCLOUD-dot {
  height: 15px;
  width: 15px;
  background-color: #5B56EE;
  border-radius: 50%;
  display: block;
  margin-top: 10%
}

.EMCLOUD-text{
  display: block;
  margin-left: 52%;
  margin-top: -1%;
  color: #5B56EE;
}

.snp500-dot {
  height: 15px;
  width: 15px;
  background-color: #FC714D;
  border-radius: 50%;
  display: block;
  margin-top: 10%
}

.snp500-text{
  display: inline-block;
  margin-left: 62%;
  margin-top: -1%
} */

.statistics{
  width: 100%;
  text-align: center;
}



.bg1_off, .bg2_off,.bg3_off,.bg4_off,.bg5_off,.bg6_off,.bg7_off{
  background-color: white;
  border-top: 3px solid white;
  border-left: 3px solid white;
  border-right: 3px solid white;
  padding-right: 7px;
  text-transform: uppercase;
  border-bottom: 2px solid white;
}
.bg1_off:hover, .bg2_off:hover,.bg3_off:hover,.bg4_off:hover,.bg5_off:hover,.bg6_off:hover,.bg7_off:hover{
  border-bottom: 2px solid black;
}
.bg1_on, .bg2_on,.bg3_on,.bg4_on,.bg5_on,.bg6_on,.bg7_on{
  background-color: white;
  border-top: 3px solid white;
  border-left: 3px solid white;
  border-right: 3px solid white;
  padding-right: 7px;
  text-transform: uppercase;
  border-bottom: 2px solid black;
}
.bg1_on:hover, .bg2_on:hover,.bg3_on:hover,.bg4_on:hover,.bg5_on:hover,.bg6_on:hover,.bg7_on:hover{
  border-bottom: 2px solid black;
}


/* .overview{
  border-right: 5px solid white;
  margin-top: 60%;

} */
.brxsmall {
    display: block;
    margin-bottom: -.4em;
}

.indexflex {
  font-size:200%;
  margin:auto;
  margin-top:1%;
  margin-bottom: 2%;
  display: flex;
  justify-content: space-around;
  max-width: 80%;
  color: black;
  text-align: center;
  line-height: 35%;
}

/* .legendflex {
  margin: auto;
  display: flex;
  justify-content: space-between;
  max-width: 50%;
  color: black;
} */




#DivContent{
  margin-left:5%;
  width:90%;
}

.future-ipo-img{
  margin: auto;
  width: 55%;
  margin-bottom: 5%;
}
path { 
    stroke: grey;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: grey;
    stroke-width: 2;
    shape-rendering: crispEdges;
}


.container-fluid{
  width:80%;
}
/* table {
    table-layout: fixed;
    word-wrap: break-word;
    display:table;
} */
.table-design{
  margin:0%;
  margin-bottom: 0%;
  margin-top:0%;
  margin-left: 10%;
  max-width: 1450px;
  width:100%;
}
.table-design thead tbody{
  width: 100%;
  display:table;
}
.table-design thead th:first-child, td:first-child
{
  position:sticky;
  left:0px;
  background: white;
  border-right:1px solid black;
  z-index: 1;
}
.table-design thead tr{ position: sticky; top: 0; z-index: 2; }
.table>:not(:last-child)>:last-child>* {
  border-bottom: 1px solid black;
}
.table-responsive::-webkit-scrollbar {
  width: 20px;
}
.table-responsive::-webkit-scrollbar-track {
  background-color: transparent;
}
.table-responsive::-webkit-scrollbar-thumb {
  background-color: #d6dee1;
  border-radius: 20px;
  border: 6px solid transparent;
  background-clip: content-box;
}
.col-sm-12{
  width: 83.3%
}
.mouseOverlay {
        fill: none;
        pointer-events: all;
    }



/* 
.f-prime-logo-nav-bar{
  margin: auto;
  width: 200px;
} */

/* basic positioning */


/* .base-img{width:50%;display:block} */
.ft_intro{display: flex;align-items:center;}
.ft_intro-content{background-color:#1f1f1f}
.section_headers_div{
  margin-left:10%;
  margin-top:3%;
  margin-bottom: 2%;
  display: flex;
  width: 80%;
}
/* .future_additions{
  display: flex;
  justify-content: space-around;
  margin:auto;
  margin-top:1%;
  margin-bottom: 1%;
  width: 80%;
} */

/* @media (min-width: 768px){.base-intro{padding-left:60px}}
@media (min-width: 1200px){.base-intro{padding-left:80px}}
@media (min-width: 768px){.base-intro{padding-right:60px}}
@media (min-width: 1200px){.base-intro{padding-right:80px}}
.base-intro:after{content:'';display:table;clear:both}
@media (min-width: 768px){.base-intro{margin-top:0}}
.base-intro__content{-webkit-transform:translateZ(0px);transform:tran3slateZ(0px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative}@media (min-width: 920px){.base-intro__content{margin-left:-15px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap}}
.page_head{background-color:#1f1f1f;width:100%; color: #eee;height: 100%;}
.sector__h{color: #eee; position:relative;font-size: 1.875em;}
.sector__description{color: #eee;}
.filter-nav__main{color:#eee;width:100%;display:block;position:relative;text-align:left;z-index:10} */
@media (min-width: 1200px){.base-intro__content{margin-left:0px}}
/* .base-intro__content--center{-webkit-box-align:left;-webkit-align-items:left;-ms-flex-align:left;align-items:left;} */
.page_head{background-color:#1f1f1f;width:100%; color: #eee;height: 70%;}
.top_line{margin-top: 3.5%; margin-bottom: 1.5%;display: flex; align-items: center;}
.site_redirect{font-family: "Nantes",serif; font-weight: 550; margin-left:auto; color:#eee;display: table-cell; font-size: 1.8rem;}
.redirect_text{color:#eee;}
.fprime-logo-gray-bg{margin-left: -1.5%;width:220px;display: table-cell;}
.ft__h{color: #eee;font-family: "Nantes",serif;font-size: 3.5vw;}
.ft__description{color: #eee;font-weight: 400;}
.ft__intro-main{margin-left: 20%;display: table-cell;width: 35%;vertical-align: middle; padding-left:0%;align-items:center;}
.sector__intro-image{margin:auto;}
.sector__intro-figure{width:75%; height: 75%; margin-left: 25%; margin-bottom:5%;margin-top:10%;}
.ft__intro-figure{width:55%; height: 55%; margin-left:20%; display:table-cell; vertical-align: middle;top:50%;object-fit: cover;}
/* .navbar_background{
  background-color:white;
  width: 100%;
} */
.navbar_ul{
  padding: 0 0 0 0;
}
.navbar_margin{
  margin-left:10%
}
#navbar {
  background-color:#1f1f1f;
  width: 100%;
  padding-top:2%;
  padding-bottom:1%;
  z-index: 50;
  overflow-x: auto;
}
#navbar a {
  /* float:left;
  display: block; */
  color: #eee;
  text-align: left;
  /* font-size: 1.35vw; */
}
/* #navbar_background2{
  background-color:white;
  width: 100%;
} */
#navbar2 {
  background-color:white;
  width: 100%;
  padding-top:1%;
  padding-bottom:.5%;
  z-index: 50;
  overflow-x: auto;
}
#navbar2 a {
  color: black;
  text-align: left;
}
.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}
.index-numbers-fintech{color: #5B56EE; width:15%}
.index-numbers-EMCLOUD{color: #A6D0D8;}
.index-numbers-nasdaq{color: #1F1F1F;}
.index-numbers-snp500{color: #FC714D;}
.index-numbers-emcloud{color: #A9A9A9;}
.graphButtons{ margin-left: auto;margin-right: 8%;z-index: 1;margin-bottom: -2.2%;}
/* .svg-style{
  background-color: white;
} */
.legend { list-style: none;margin:auto;margin-bottom: 8%;vertical-align: middle;}
.legend li { float: left; margin: 20px; }
.legend span { border: 0px solid #ccc; float: left; width: 12px; height: 12px; margin: 2px; }
/* your colors */
.legend .fintech_legend { background-color: #5B56EE; border-radius: 50%;}
.legend .EMCLOUD_legend { background-color: #A6D0D8; border-radius: 50%;}
.legend .nasdaq_legend { background-color: #1F1F1F; border-radius: 50%;}
.legend .snp500_legend { background-color: #FC714D; border-radius: 50%;}
.legend .emcloud_legend { background-color: #A9A9A9; border-radius: 50%;}
.flex {
  margin:auto;
  margin-top:-2%;
  margin-bottom: 2%;
  max-width: 80%;
  text-align: center;
  display: flex;
  justify-content: space-around;
  vertical-align: middle;
  background-color: #1F1F1F;
  padding-top: 2%;
  padding-bottom: 2%;
  color:floralwhite;
  white-space: nowrap;
  font-size: 1vw;
}
.future_additions{
  display: flex;
  justify-content: space-around;
  margin:auto;
  margin-top:1%;
  margin-bottom: 1%;
  width: 80%;
}
.flex_background{
  background-color:#1F1F1F;
}
.stats_divider {
  margin-top: 1%;
  width:2%;
  font-size: 35px;
}
/* .g-style{
  font-size:25px;
} */
.focus circle {
        fill: #5B56EE;
    }

.focus text {
    font-size: 14px;
}
/* .focus .hover-data-style{
   width: 150px;
   height: 110px;
} */


.focus .tooltip-date{
    font-weight: bold;
}
.focus .tooltip-fintech{
    font-weight: bold;
    fill: #5B56EE;
}
.focus .tooltip-EMCLOUD{
    font-weight: bold;
    fill: #A6D0D8;
}
.focus .tooltip-nasdaq{
    font-weight: bold;
    fill: #1F1F1F;
}
.focus .tooltip-snp {
    font-weight: bold;
    fill: #FC714D;
}

.focus_new circle {
        fill: #FC714D;
    }
.focus_new text {
    font-size: 14px;
}

.focus_new .tooltip-date_new{
    font-weight: bold;
}
.focus_new .tooltip-lt20{
    font-weight: bold;
    fill: #5B56EE;
}
.focus_new .tooltip-bt2040{
    font-weight: bold;
    fill: #A6D0D8;
}
.focus_new .tooltip-gt40{
    font-weight: bold;
    fill: #FC714D;
}

.section_headers{
  font-family: "Nantes",serif;
  font-size:35px;
}
.topnav {
  overflow: hidden;
  position: relative;
}

.topnav #myLinks {
  display: block;
}
.topnav #myLinks2 {
  display: block;
}
.topnav #myLinks3 {
  display: block;
}
.topnav #myLinks4 {
  display: block;
}
.parallelogram {
	width: 20px;
	height: 10px;
	transform: skew(0deg, -20deg);
	background: #eee;
  display: inline-block;
  margin-right: 10%;
  vertical-align: middle;
}
.parallelogram_stats {
	width: 1.02vw;
	height: 1.5vw;
	transform: skew(-30deg, 0deg);
	background: #eee;
  display: inline-block;
  vertical-align: middle;
  margin-top: auto;
  margin-bottom: auto;
}
.active {
  color: white;
  white-space:normal;
  border-bottom: 1px solid black;
  min-width: 90px;
  text-align: center;}
.topnav a {
  color: black;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 1.1vw;
  display: block;
}

.topnav a.icon {
  background: black;
  display: block;
  position: absolute;
  right: 0;
  top: 0;
}

.topnav a:hover {
  border-bottom: 2px solid black;
}
.slides_frame{
  margin:auto;
  margin-top:2%;
  margin-bottom: 2%;
  width: 80%;
  max-width: 1050px;
  overflow-anchor: none !important;
}
.about_us{
  margin:auto;
  width: 80%;
  max-width: 1300px;
  text-align: center;
  font-family: "Nantes",serif;
  font-size: 20px;
}
.table-design tbody{
  font-size: .8vw;
}
.table-design thead{
  font-size: .9vw;
  text-align: center;
}
.dataTables_filter{
  font-size: 1.0vw;
}
.about_us_info{  
  display: flex;
  width:55%;
  min-width: 800px;
  margin:auto;
  margin-bottom:2%;
}
.base-button{
  min-width: 161px;
  margin-top: 8%;
  border-style: hidden;
}
.base-button_2{
  min-width: 161px;
  margin-top: 8%;
  border-style: hidden;
}

/* .base-button_download{
  min-width: 50px;
  margin-top: 8%;
  border-style: hidden;
} */

.about_us_buttons a:not([href]):not([tabindex]){
  color:#fff;
}
.sof_download {
  margin: auto;
}
.dd_toggle {
  margin:auto;
  display: flex;
  align-items: center;
  flex-direction: row;
  flex-wrap: wrap;
  
}
@media screen and (max-width: 600px){
  .dd_toggle {
    align-items: center;
    justify-content: center;
}
}
/* @media screen and (max-width: 440px){
  .dd_toggle {
  padding-left: 22vw;
}
} */
.sof_download a:not([href]):not([tabindex]){
  color:#fff;
}
/* .base-button__text{
  color: white !important;
}
.base-button:before{
  background-color: #A9A9A9 !important;
} */
.about_us_button{
  display:table-cell;
  vertical-align: middle;
}
.fintech_images{
  width:55%;
  min-width: 800px;
  margin: auto;
  margin-bottom: 2%;
}
.fprime_fintech_desc{
  width:55%;
  min-width: 500px;
  font-family: "MessinaSans",serif;
  font-size:20px;
  line-height: 1.2;
}
/* .table-design thead .sorting, .sorting_asc,.sorting_desc{
  vertical-align: middle;
} */
@media screen and (max-width: 1350px) {
  .table-design tbody{
  font-size: 1.0vw;
  }
  .table-design thead{
    font-size: 1.1vw;
  }
  .dataTables_filter{
  font-size: 1.3vw;
}
.slides_frame{
  max-width: 800px;
  max-height: 500px;
}
}
@media screen and (max-width: 1050px) {
.page_head{background-color:#1f1f1f;width:100%; color: #eee;height: 70%;}
.top_line{margin-top: 2.5%;display: flex;  align-items: center;}
.site_redirect{font-size: 2.8vw;}
.ft__h{margin-left: 0%;color: #eee;font-family: "Nantes",serif;font-size: 4.5vw;}
.ft__description{margin-left: 0%;color: #eee;font-weight: 400;font-size: 2vw;}
.ft__intro-main{margin-left: 10%;display: table-cell;width: 100%;vertical-align: middle; padding-left:0%;align-items:center;}
.ft__intro-figure{width:55%; height: 55%; margin-left:20%; display:table-cell; vertical-align: middle;top:50%;object-fit: cover;}
.index-numbers-fintech{color: #5B56EE;font-size: 2.7vw;}
.index-numbers-EMCLOUD{color: #A6D0D8;font-size: 2.7vw;}
.index-numbers-nasdaq{color: #1F1F1F;font-size: 2.7vw;}
.index-numbers-snp500{color: #FC714D;font-size: 2.7vw;}
.index-numbers-emcloud{color: #A9A9A9;font-size: 2.7vw;}
.graphButtons{margin-left: auto;margin-right: 8%; font-size: 1.5vw;}
.legend li { float: left; margin: 20px; margin-top: 5%;font-size: 1.5vw;}
.legend span { border: 0px solid #ccc; float: left; width: 10px; height: 10px; margin: 2px; }
.flex {
  font-size: 1.2vw;
}
.stats_divider {
  margin-top:2%;
  width:4%;
  font-size: 3.5vw;;
}
/* .g-style{
  font-size:40px;
} */
.focus circle {
        fill: #5B56EE;
    }
.focus text {
    font-size: 14px;
    display: inline-block;
    
}
/* .focus .hover-data-style{
   width: 180px;
   height: 140px;
} */
.focus .tooltip-fintech{
    font-weight: bold;
    fill: #5B56EE;
}
.focus .tooltip-EMCLOUD{
    font-weight: bold;
    fill: #A6D0D8;
}
.focus .tooltip-nasdaq{
    font-weight: bold;
    fill: #1F1F1F;
}
.focus .tooltip-snp {
    font-weight: bold;
    fill: #FC714D;
}
.svg-style{
  height:200%;
}
.section_headers{
  font-family: "Nantes",serif;
  font-size:3.4vw;
}
.parallelogram {
	width: 15px;
	height: 7.5px;
}
.topnav a {
  color: black;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 1.4vw;
  display: block;
}
.slides_frame{
  max-height: 450px;
}
.table-design tbody{
  font-size: 1.3vw;
}
.table-design thead{
  font-size: 1.4vw;
}
.dataTables_filter{
  font-size: 1.6vw;
}
.about_us_info{  
  width:55%;
  min-width: 600px;
}
.base-button{
  min-width: 130px;
  margin-top: 8%;
}
.base-button__text{
  font-size: 9px !important;
}
.about_us_button{
  display:table-cell;
  vertical-align: middle;
}
.fintech_images{
  width:55%;
  min-width: 600px;
}
.fprime_fintech_desc{
  width:75%;
  min-width: 0px;
  font-size:15px;
}
}
@media screen and (max-width: 778px) {
  #navbar a{
    font-size: 4.5vw;
    font: inherit;
  }

  #navbar2 a{
    font-size: 4.5vw;
    font: inherit;
  }
  .topnav a {
  font-size: 1.5vw;
  }
  .flex {
  font-size: 1.3vw;
}
.parallelogram {
	width: 10px;
	height: 5px;
}
.slides_frame{
  max-height: 400px;
}
.table-design tbody{
  font-size: 1.7vw;
}
.table-design thead{
  font-size: 1.8vw;
}
.dataTables_filter{
  font-size: 2.0vw;
}
.table-design{
  margin:0%;
  margin-bottom: 0%;
  margin-top:0%;
  margin-left: 0%;
  max-width: 1450px;
  width:100%;
}
.col-sm-12{
  width: 100%
}
.about_us_info{  
  width:55%;
  min-width: 530px;
}
.base-button{
  min-width: 105px;
  margin-top: 8%;
}
.base-button__text{
  font-size: 7px !important;
}
.about_us_button{
  display:table-cell;
  vertical-align: middle;
}
.fintech_images{
  width:55%;
  min-width: 530px;
}
.fprime_fintech_desc{
  width:80%;
  min-width: 0px;
  font-size:14px;
}
}

@media screen and (max-width: 599px) {
  .sector__intro-main{margin:auto;}
  .sector__intro-figure{width:75%; height: 75%; margin:auto;}
  .section_headers{
  font-family: "Nantes",serif;
  font-size:4.2vw;
}
.footer__inner:after{left: 0; width:100% !important;}
  .graphButtons{ margin-left: -5%; margin-bottom: 0%; font-size: 1.6vw;}
  /* .g-style{
  font-size:45px;
} */
/* .svg-style{
  transform: scale(1, 1.4);
} */
g.tick text{font-size: max(7.5vw, 40px) !important;}
.legend li { float: left; margin: 15px; margin-top:5%; font-size: 2.2vw;}
.legend span { border: 0px solid #ccc; float: left; width: 8px; height: 8px; margin: 2px; }
.flex {
  font-size: 1.4vw;
}
/* .container-fluid{
  width:95%;
} */
.topnav a {
  font-size: 1.7vw;
  }
.parallelogram {
	width: 7.5px;
	height: 3.75px;
}

.slides_frame{
  max-height: 350px;
}
.table-design tbody{
  font-size: 2.2vw;
}
.table-design thead{
  font-size: 2.3vw;
}
.dataTables_filter{
  font-size: 2.5vw;
}
.future_additions{
  width: 90%;
}
.topnav a{
  font-size: 1.8vw;
}
.about_us_info{  
  width:55%;
  min-width: 400px;
}
.base-button{
  padding-top: 8px !important;
  padding-bottom: 8px !important;
  margin-top: 8%;
}
.base-button__text{
  font-size: 7px !important;
}
.about_us_button{
  display:table-cell;
  vertical-align: middle;
}
.fintech_images{
  width:55%;
  min-width: 400px;
}
.fprime_fintech_desc{
  width:85%;
  min-width: 0px;
  font-size:11px;
}
}
@media screen and (max-width: 450px) {
  .about_us_info{  
  width:55%;
  min-width: 300px;
  display:inline;
  }
  .base-button{
    padding-top: 8px !important;
    padding-bottom: 8px !important;
    margin-top:-4%;
    margin-bottom: 7% !important;
    min-width:180px;
  }
  .base-button__text{
    font-size: 7px !important;
  }
  .about_us_button{
    display:table-cell;
    vertical-align: middle;
  }
  .fintech_images{
  width:55%;
  min-width: 300px;
}
.fprime_fintech_desc{
  margin:none;
  width:100%;
  min-width: 0px;
  font-size:9px;
}


}
@media screen and (max-width: 350px) {
  .about_us_info{  
  width:55%;
  min-width: 250px;
  }
  .fintech_images{
  width:55%;
  min-width: 250px;
  margin: none;
}
.fprime_fintech_desc{
  width:100%;
  min-width: 0px;
  font-size:9px;
}
}
.modal_box {
  display:none; /* Hidden by default */
  position: static;
  z-index: 1; /* Sit on top */
  overflow: auto; /* Enable scroll if needed */
}
/* .modal-content {
  position: absolute;
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
} */
/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
.vertical-type_toggles{
  margin-top:5%;
  margin-left:auto;
  width: 60%;
  background-color: white;
  border: 1px solid #333;
  border-radius: 10px;
  padding-top: 1%;
  padding-right: 1%;
  padding-bottom: 1%;
  padding-left: 1%;
}
.vertical_toggles{
  margin-left: 1%;
  margin-bottom: 5%
}
.type_toggles{
  margin-left: 1%;
  margin-bottom: 0%;
  border-top:1px solid black ;
}

.grid{
  z-index: 1;
  color: #000;
}
/* CSS */
.button-4 {
  appearance: none;
  background-color: #FAFBFC;
  border: 1px solid rgba(27, 31, 35, 0.15);
  border-radius: 6px;
  box-shadow: rgba(27, 31, 35, 0.04) 0 1px 0, rgba(255, 255, 255, 0.25) 0 1px 0 inset;
  box-sizing: border-box;
  color: #24292E;
  cursor: pointer;
  display: inline-block;
  font-family: -apple-system, system-ui, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  list-style: none;
  padding: 6px 16px;
  position: relative;
  transition: background-color 0.2s cubic-bezier(0.3, 0, 0.5, 1);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  vertical-align: middle;
  white-space: nowrap;
  word-wrap: break-word;
}

.button-4:hover {
  background-color: #F3F4F6;
  text-decoration: none;
  transition-duration: 0.1s;
}

.button-4:disabled {
  background-color: #FAFBFC;
  border-color: rgba(27, 31, 35, 0.15);
  color: #959DA5;
  cursor: default;
}

.button-4:active {
  background-color: #EDEFF2;
  box-shadow: rgba(225, 228, 232, 0.2) 0 1px 0 inset;
  transition: none 0s;
}

.button-4:focus {
  outline: 1px transparent;
}
/* .nav-extended{
  background-color: red;
  width:500%;
  margin-left:-100%;
  margin-bottom:-5%;
  margin-top: 5%;

}
.nav-extended:before{
    content: "";
    display: block;
    padding-top: 1.3%;
} */


/* .button-4:before {
  display: none;
}

.button-4:-webkit-details-marker {
  display: none;
} */

/* .sticky + .content {
  padding-top: 60px;
} */
.dropbtn {
  background-color: white;
  color: black;
  font-size: 15px;
  border: none;
  cursor: pointer;
}

.dropdown {
  position: relative;
  display: inline-block;
  font-size: 15px !important;
  /* float: right; */
}

.dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1;}
.dropdown:hover .dropdown-content {display: block;}
.dropdown:hover .dropbtn {border-bottom: 2px solid black;}
/* .mobile-container {
  max-width: 480px;
  margin: auto;
  background-color: #555;
  height: 500px;
  color: white;
  border-radius: 10px;
} */

.csv_button{
  margin-top:1%;
  color: #1F1F1F;
  float: left;
  font-size: 18px;
  
}
.about_tooltip {
  position: relative;
  display: inline-block;
}

.about_tooltip .about_tooltiptext {
  visibility: hidden;
  width:fit-content;
  background-color: #1F1F1F;
  color: #eee;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;
  font-size: 1.5vw;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  top: -5px;
  left: 105%;
}

.about_tooltip:hover .about_tooltiptext {
  visibility: visible;
}
/* .dataTables_filter {
text-align: right !important;
} */
#left{  
 float: left;
 }
 #right{  
 float: right;
 }
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="wp-includes/css/dist/block-library/style.min_ver%3D5.6.css" type="text/css" media="all">
<link rel="stylesheet" id="fprime_styles-css" href="wp-content/themes/f-prime-wp-theme/static/build/css/screen_ver%3D1.2.2.css" type="text/css" media="all">
<!-- <script type="text/javascript" src="wp-content/themes/f-prime-wp-theme/static/jquery/jquery-3.4.1.min_ver%3D3.4.1.js" id="jquery-core-js"></script> -->
<script type="text/javascript" src="wp-includes/js/jquery/jquery-migrate.min_ver%3D3.3.2.js" id="jquery-migrate-js"></script>
<link rel="https://api.w.org/" href="https://fprimecapital.com/wp-json/"><link rel="alternate" type="application/json" href="https://fprimecapital.com/wp-json/wp/v2/pages/5449"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://fprimecapital.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://fprimecapital.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.6">
<link rel="canonical" href="https://fintechindex.fprimecapital.com/">
<link rel="shortlink" href="https://fintechindex.fprimecapital.com/">
<!-- <link rel="alternate" type="application/json+oembed" href="https://fprimecapital.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ffprimecapital.com%2Fpeople">
<link rel="alternate" type="text/xml+oembed" href="https://fprimecapital.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Ffprimecapital.com%2Fpeople&#038;format=xml"> -->

    <title>Index | F-Prime Capital</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The F-Prime Fintech Index is designed to track the performance of emerging, publicly traded financial technology companies.">

    <link rel="shortcut icon" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/favicon.ico">
    <link rel="icon" type="image/png" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/favicon-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="mask-icon" href="wp-content/themes/f-prime-wp-theme/static/img/favicons/mask-icon-16x16.svg" color="#000000">

    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:image" content="wp-content/themes/f-prime-wp-theme/static/img/f-prime-slash.jpg">
    <meta property="og:description" content="The F-Prime Fintech Index is designed to track the performance of emerging, publicly traded financial technology companies.">
    <meta property="og:site_name" content="F-Prime Fintech Index & State of Fintech">
    <meta property="og:title" content="F-Prime Fintech Index & State of Fintech">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="The F-Prime Fintech Index is designed to track the performance of emerging, publicly traded financial technology companies.">
    <meta name="twitter:image" content="https://fprimecapital.com/wp-content/themes/f-prime-wp-theme/static/img/f-prime-slash.jpg">
    <meta name="twitter:title" content="F-Prime Fintech Index & State of Fintech">
  </head>

  <body class="theme--light">
  <div class = 'page_head'>


    <header class="base-intro">
      <div class = "top_line">
        <div class = "fprime-logo-gray-bg"><a href = "https://fprimecapital.com/"><img src="FPrime_logo_gray_bg.PNG" alt="" id = "left"></a></div>
        <div class="site_redirect"><a href = "https://fprimecapital.com/" id = "right" class = "redirect_text">F-Prime Home &#8594</a></div>
      </div>
      <div class="base-intro__content base-intro__content--center">
        <div class="sector__intro-main">
          <h2 class="sector__h">Fintech Index</h2>
          <p class="sector__description">The F-Prime Fintech Index is designed to track the performance of emerging, publicly traded financial technology companies.</p>
        </div>
        <div class="sector__intro-image">
          <figure class="sector__intro-figure">
            <img src="technology-header2.png" alt="">
          </figure>
        </div>
      </div>
    </header>
    <div class="filter-nav__main" id="navbar">
      <div class = 'base-intro'>
        <ul class = 'navbar_ul'>
          <li class="filter-nav__list-item"><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="overview" target="_self">Overview</a></li>
          <li class="filter-nav__list-item "><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="performance" target="_self">Index Info</a></li>
          <li class="filter-nav__list-item "><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="companies" target="_self">Companies</a></li>
          <li class="filter-nav__list-item "><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="future" target="_self">Future Companies</a></li>
          <li class="filter-nav__list-item "><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="thesis" target="_self">State of Fintech</a></li>
          <li class="filter-nav__list-item community-link"><a class="nav__link" aria-current="page" href="javascript:void(0)" data-page="about" target="_self">About Us</a></li>
        </ul>
      </div>
    </div>
  </div>
<div class="section_headers_div">
  <h2 id = "overview" class="section_headers"></h2>
</div>
<div class='statistics'>
<div class="indexflex">
  <!-- <span style="font-size: 150%;">+</span> -->
  <div class = "index-numbers-fintech"><span style="font-size: 120%;" id = "fintechValueJS"></span><a style="font-size: 120%;">%</a><a style="font-size: 50%;"><br>Fintech Index</a></div>
  <div class = "index-numbers-EMCLOUD"><span style="font-size: 120%;" id = "EMCLOUDValueJS"></span><span style="font-size: 120%;">%</span><span style="font-size: 50%;"><br>EMCLOUD Index</span></div>
  <div class = "index-numbers-nasdaq"><span style="font-size: 120%;" id = "nasdaqValueJS"></span><span style="font-size: 120%;">%</span><span style="font-size: 50%;"><br>NASDAQ</span></div>
  <div class = "index-numbers-snp500"><span style="font-size: 120%;" id = "snp500ValueJS"></span><span style="font-size: 120%;">%</span><span style="font-size: 50%;"><br>S&P 500</span></div>
  <!-- <span class = "index-numbers-emcloud"><span style="font-size: 120%;" id = "emCloudValueJS"></span><span style="font-size: 120%;">%</span>  <span style="font-size: 50%;">EMCLOUD</span></span> -->
</div>
</div>

<!-- <input id = "insurance_bool" type="checkbox" checked = ""/>Insurance -->
<!-- <input id = "payments_bool" type="checkbox" checked = ""/>Payments
<input id = "banking_bool" type="checkbox" checked = ""/>Banking
<input id = "saas_bool" type="checkbox" checked = ""/>B2B SaaS
<input id = "wealth_bool" type="checkbox" checked = ""/>Wealth/Asset Mgmt
<input id = "re_bool" type="checkbox" checked = ""/>Real Estate -->


<!-- The Modal -->
<!-- <div id="myModal" class="modal_box">

    <div class='vertical-type_toggles'>
      <span class="close">&times;</span>
      <div class = 'vertical_toggles'>
        <div class="pretty p-default">
          <input id = "insurance_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Insurance</label>
          </div>
        </div>
        <div class="pretty p-default">
          <input id = "payments_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Payments</label>
          </div>
        </div>
        <div class="pretty p-default">
          <input id = "banking_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Banking/Lending</label>
          </div>
        </div>
        <div class="pretty p-default">
          <input id = "saas_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>B2B SaaS</label>
          </div>
        </div>
        <div class="pretty p-default">
          <input id = "wealth_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Wealth/Asset Mgmt</label>
          </div>
        </div>
        <div class="pretty p-default">
          <input id = "re_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Real Estate</label>
          </div>
        </div>
      </div>
      <div class = "type_toggles">
        <div class="pretty p-switch">
          <input id = "spac_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>SPAC</label>
          </div>
        </div>
        <div class="pretty p-switch">
          <input id = "dl_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Direct Listing</label>
          </div>
        </div>
        <div class="pretty p-switch">
          <input id = "ipo_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Traditional IPO</label>
          </div>
        </div>    
      </div>
    </div>

</div> -->
<br /><br />
<div class="graphButtons">
<ul>
    <input 
          type="button" 
          value="All Time"
          onclick="updateAllTime()"
          id = "bg1" 
          class='bg1_on' />
          <a>&nbsp;&nbsp;</a>
    <input 
          type="button" 
          value="3Y"
          onclick="update3Y()"
          id = "bg2"
          class='bg2_off' />
          <a>&nbsp;&nbsp;</a>
    <input 
           type="button" 
           value="1Y"
           onclick="updateYearly()"
           id = "bg3"
           class='bg3_off' />
           <a>&nbsp;&nbsp;</a>
    <input 
           type="button" 
           value="YTD"
           onclick="updateYTD()"
           id = "bg4"
           class='bg4_off' />
           <a>&nbsp;&nbsp;</a>

    <input 
           type="button" 
           value="6M"
           onclick="update6M()"
           id = "bg5" 
           class='bg5_off' />
           <a>&nbsp;&nbsp;</a>

    <input  
           type="button" 
           value="1M" 
           onclick="updateMonthly()"
           id = "bg6"
           class='bg6_off'/>
           <a>&nbsp;&nbsp;</a>

    <input 
          type="button" 
          value="1W" 
          onclick="updateWeekly()"
          id = "bg7"
          class='bg7_off' />
          <a>&nbsp;&nbsp;</a>
  <!-- <button id="myBtn" class = "button-4">...</button> -->
  <div class="dropdown" style="float:right;">
    <button class="dropbtn"><span class="glyphicon">&#xe138;</span></button>
    <div class="dropdown-content">
      <div class = 'vertical_toggles'>
        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "insurance_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Insurance</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "payments_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Payments</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "banking_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Banking</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "lending_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Lending</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "saas_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>B2B SaaS</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "wealth_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Wealth/Asset Mgmt</label>
          </div>
        </div>

        <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;margin-bottom: 1.5%;">
          <input id = "re_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>PropTech</label>
          </div>
        </div>
      </div>
      <div class = "type_toggles">
        <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "spac_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>SPAC</label>
          </div>
        </div>
        <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;">
          <input id = "dl_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Direct Listing</label>
          </div>
        </div>
        <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;margin-bottom: 5%;">
          <input id = "ipo_bool" type="checkbox" checked = "" />
          <div class="state">
              <label>Traditional IPO</label>
          </div>
        </div>
      </div>

    </div>
  </div>
</ul>
</div>

<!-- x
<div>
  <button aria-expanded="false" type="button" class="filter-portfolio__accordion-expand js--expand">
    Yearly
  </button>
  <button aria-expanded="false" type="button" class="filter-portfolio__accordion-expand js--expand">
    Monthly
  </button>
  <button aria-expanded="false" type="button" class="filter-portfolio__accordion-expand js--expand">
    Weekly
  </button>

</div> -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>

<script>

// var modal = document.getElementById("myModal");
// modal.style.display = "none";
// // Get the button that opens the modal
// var btn = document.getElementById("myBtn");

// // Get the <span> element that closes the modal
// var span = document.getElementsByClassName("close")[0];

// // When the user clicks the button, open the modal 
// btn.onclick = function() {
//   if (modal.style.display == "block"){modal.style.display = "none";}
//   else {modal.style.display = "block";}
// }

// // When the user clicks on <span> (x), close the modal
// span.onclick = function() {
//   modal.style.display = "none";
// }

// // When the user clicks anywhere outside of the modal, close it
// window.onclick = function(event) {
//   if (event.target == modal) {
//     modal.style.display = "none";
//   }
// }
// function popupmenu() {
//   document.getElementById("myDropdown").classList.toggle("show");
// }

// // Close the dropdown if the user clicks outside of it
// window.onclick = function(event) {
//   if (!event.target.matches('.vertical-type_toggle')) {
//     var dropdowns = document.getElementsByClassName("dropdown-content");
//     var i;
//     for (i = 0; i < dropdowns.length; i++) {
//       var openDropdown = dropdowns[i];
//       if (openDropdown.classList.contains('show')) {
//         openDropdown.classList.remove('show');
//       }
//     }
//   }
// }

  $("a").click(function(){
  var pageId = $(this).attr("data-page");
  $("html, body").animate({ scrollTop: $("#"+pageId).offset().top }, 10);
});

  function getWidth() {
    var windowWidth = document.documentElement.clientWidth;
  // Math.max(
  //   document.body.scrollWidth,
  //   document.documentElement.scrollWidth,
  //   document.body.offsetWidth,
  //   document.documentElement.offsetWidth,
  //   document.documentElement.clientWidth
  // );

  return windowWidth
}

function getHeight() {
  var windowHeight = document.documentElement.clientHeight;
  // Math.max(
  //   document.body.scrollHeight,
  //   document.documentElement.scrollHeight,
  //   document.body.offsetHeight,
  //   document.documentElement.offsetHeight,
  //   document.documentElement.clientHeight
  // );
  return windowHeight
}


// console.log('Width:  ' +  winWidth);
// console.log('Height: ' + window.innerHeight);
function changeGraphSize(){
var widthBrowser = getWidth();
var heightBrowser = getHeight();
//console.log(widthBrowser)
if (window.innerWidth<400){
  var	margin = {top: 120, right: 225, bottom: 30, left: 225},
    width = widthBrowser  - margin.left - margin.right,
    height = heightBrowser - 350,
    tooltip = { width: 100, height: 100, x: 10, y: -30 };
      }
else{
    var	margin = {top: 30, right: 225, bottom: 30, left: 225},
    width = widthBrowser  - margin.left - margin.right,
    height = heightBrowser - 350,
    tooltip = { width: 100, height: 100, x: 10, y: -30 };
    //console.log([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.3]);
  }

// Set the dimensions of the canvas / graph
}
// window.addEventListener("resize", changeGraphSize);
  var widthBrowser = window.innerWidth;
  var heightBrowser = window.innerHeight;
  // Set the dimensions of the canvas / graph
  var	margin = {top: 30, right: 150, bottom: 60, left: 180},
    width = 1920  - margin.left - margin.right,
    height = 960 - 350,
    tooltip = { width: 100, height: 100, x: 10, y: -30 };
 // Parse the Date / time
var parseDate = d3.time.format("%m/%d/%Y").parse,
        bisectDate = d3.bisector(function(d) { return d.Date; }).left,
        formatValue = d3.format(","),
        dateFormatter = d3.time.format("%m/%d/%y");


// var parseDate = d3.time.format("%m/%e/%Y").parse,
//         bisectDate = d3.bisector(function(d) { return d.date; }).left,
//         formatValue = d3.format(","),
//         dateFormatter = d3.time.format("%m/%d/%y");

// Set the ranges
var x = d3.time.scale().range([0, width]);
var y = d3.scale.linear().range([height, 0]);

var formatPercent = d3.format(".0%");
// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(10);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(10)
    .tickFormat(formatPercent);

// Define the line
var	valueline = d3.svg.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.Fintech); })
    .defined(function(d) { return d.Fintech; });
// var	valueline5 = d3.svg.line()
//     .x(function(d) { return x(d.Date); })
//     .y(function(d) { return y(d.EMCLOUD); });
var	valueline2 = d3.svg.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.EMCLOUD); });

    var	valueline3 = d3.svg.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.NASDAQ); });
  
  var	valueline4 = d3.svg.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.SNP500); });
  
    var	valueline5 = d3.svg.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.Fintech); });

  

// Adds the svg canvas
var svg = d3.select("body")
.append("svg")
  .attr("viewBox", "0 0 " + (width + margin.left + margin.right) + " " + (height + margin.top + margin.bottom))
  .attr("preserveAspectRatio", "xMinYMid meet")
  .classed("svg-style", true)
    // .attr("width", width + margin.left + margin.right)
    // .attr("height", height + margin.top + margin.bottom)
.append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")")
    .classed("g-style", true);
// gridlines in x axis function
function make_x_axis() {        
    return d3.svg.axis()
        .scale(x)
         .orient("bottom")
         .ticks(5)
}

// gridlines in y axis function
function make_y_axis() {        
    return d3.svg.axis()
        .scale(y)
        .orient("left")
        .ticks(5);
}
var text = svg.selectAll("text");

function redraw(){
// Extract the width and height that was computed by CSS.
var width = chartDiv.clientWidth;
var height = chartDiv.clientHeight;
//console.log(width)
// Use the extracted size to set the size of an SVG element.
svg
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom);
}

// // Draw for the first time to initialize.
// redraw();

// // Redraw based on the new size whenever the browser window is resized.
// window.addEventListener("resize", redraw);        
// var csvData = "Indexes.csv";
// function updateAllTime() {
//   var csvData = "Indexes.csv";
// }
// function updateYearly() {
//   var csvData = "IndexesYearly.csv";
// }
// function updateMonthly() {
//   var csvData = "IndexesMonthly.csv";
// }
// function updateWeekly() {
//   var csvData = "IndexesWeekly.csv";
// }
// Get the data
var dataVar, DateVar, FintechVar, EMCLOUDVar, NASDAQVar, SNP500VAR;
function mousemove1(dataValues, Date, Fintech, EMCLOUD, NASDAQ, SNP500, focus,x0) {
// console.log("aloha");
// var htmlString = focus.select(".tooltip-snp")[0][0];
// console.log(htmlString);
// var x0 = x.invert(d3.mouse(this)[0]);
var i = bisectDate(dataValues, x0, 1),
    d0 = dataValues[i - 1],
    d1 = dataValues[i],
    d = x0 - d0.Date > d1.Date - x0 ? d1 : d0;
  focus.attr("transform", "translate(" + x(d.Date) + "," + y(d.Fintech) + ")");
  focus.select(".tooltip-date").text(dateFormatter(d.Date));
  focus.select(".tooltip-fintech").text('Fintech: ' + formatValue((d.Fintech*100).toFixed(1))+"%");
  focus.select(".tooltip-EMCLOUD").text('EMCLOUD: ' + formatValue((d.EMCLOUD*100).toFixed(1))+"%");
  focus.select(".tooltip-nasdaq").text('NASDAQ: ' + formatValue((d.NASDAQ*100).toFixed(1))+"%");
  focus.select(".tooltip-snp").text('S&P500: ' + formatValue((d.SNP500*100).toFixed(1))+"%");
  // focus.select(".tooltip-emcloud").text(formatValue((d.EMCLOUD*100).toFixed(1))+"%");
}
var new_ft;
var performances;
var new_ft_mcs;
var proper_tickers;
var possible_companies;
    d3.csv("possible_companies.csv", function(possible_comps){
      possible_companies=possible_comps;
      });

var ft_companies;
d3.csv("normalized_ft_comps.csv", function(ft_comps){
      ft_companies=ft_comps;
      });
var ft_market_caps;
d3.csv("market_cap.csv", function(ft_mcs){
    ft_market_caps=ft_mcs;
      });
const reducer = (accumulator, curr) => accumulator + curr;
var mc_sum;
var items = []
const produceAndAdd = (arr1 = [], arr2 = []) => {
  let arr_mult = [];
  for(let i=0; i < arr1.length; i++) {
      const product = (arr1[i] * arr2[i]);
      arr_mult.push(product);
  };
  return arr_mult;
};
const average = (array) => (array.length>0)?array.reduce((a, b) => a + b) / array.length:undefined;

var time_frame = 'All Time'

var removeVerticals = []
var removeType = []
var insurance_bool = true;
var payments_bool = true;
var banking_bool = true;
var lending_bool = true;
var saas_bool = true;
var wealth_bool = true;
var re_bool = true;
var spac_bool = true;
var dl_bool = true;
var ipo_bool = true;
$('#insurance_bool').change(function() {
    insurance_bool = this.checked;
    insur_check_box_clicked();
  });
  $('#payments_bool').change(function() {
    payments_bool = this.checked;
    pay_check_box_clicked();
  });
  $('#banking_bool').change(function() {
    banking_bool = this.checked;
    bank_check_box_clicked();
  });
  $('#lending_bool').change(function() {
    lending_bool = this.checked;
    lending_check_box_clicked();
  });
  $('#saas_bool').change(function() {
    saas_bool = this.checked;
    saas_check_box_clicked();
  });
  $('#wealth_bool').change(function() {
    wealth_bool = this.checked;
    wealth_check_box_clicked();
  });
  $('#re_bool').change(function() {
    re_bool = this.checked;
    re_check_box_clicked();
  });
  $('#spac_bool').change(function() {
    spac_bool = this.checked;
    spac_check_box_clicked();
  });
  $('#dl_bool').change(function() {
    dl_bool = this.checked;
    dl_check_box_clicked();
  });
  $('#ipo_bool').change(function() {
    ipo_bool = this.checked;
    ipo_check_box_clicked();
  });
function change_time_scale(){
    if (time_frame == 'All Time'){updateAllTime()}
    else if(time_frame == '3Y'){update3Y()}
    else if(time_frame == '1Y'){updateYearly()}
    else if(time_frame == 'YTD'){updateYTD()}
    else if(time_frame == '6M'){update6M()}
    else if(time_frame == '1M'){updateMonthly()}
    else if(time_frame == '1W'){updateWeekly()}    
};
function insur_check_box_clicked(){
  if (insurance_bool){    
    const index = removeVerticals.indexOf('Insurance');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('Insurance')}
  change_time_scale();
};
function pay_check_box_clicked(){
  if (payments_bool){    
    const index = removeVerticals.indexOf('Payments');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('Payments')}
  change_time_scale();
};
function bank_check_box_clicked(){
  if (banking_bool){    
    const index = removeVerticals.indexOf('Banking');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('Banking')}
  change_time_scale();
};
function lending_check_box_clicked(){
  if (lending_bool){    
    const index = removeVerticals.indexOf('Lending');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('Lending')}
  change_time_scale();
};
function saas_check_box_clicked(){
  if (saas_bool){    
    const index = removeVerticals.indexOf('B2B SaaS');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('B2B SaaS')}
  change_time_scale();
};
function wealth_check_box_clicked(){
  if (wealth_bool){    
    const index = removeVerticals.indexOf('Wealth/Asset Mgmt');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('Wealth/Asset Mgmt')}
  change_time_scale();
};
function re_check_box_clicked(){
  if (re_bool){    
    const index = removeVerticals.indexOf('PropTech');
    if (index > -1) {
      removeVerticals.splice(index, 1);
    }
  }
  else{removeVerticals.push('PropTech')}
  change_time_scale();
};
function spac_check_box_clicked(){
  if (spac_bool){    
    const index = removeType.indexOf('SPAC');
    if (index > -1) {
      removeType.splice(index, 1);
    }
  }
  else{removeType.push('SPAC')}
  change_time_scale();
};
function dl_check_box_clicked(){
  if (dl_bool){    
    const index = removeType.indexOf('Direct Listing');
    if (index > -1) {
      removeType.splice(index, 1);
    }
  }
  else{removeType.push('Direct Listing')}
  change_time_scale();
};
function ipo_check_box_clicked(){
  if (ipo_bool){    
    const index = removeType.indexOf('IPO');
    if (index > -1) {
      removeType.splice(index, 1);
    }
  }
  else{removeType.push('IPO')}
  change_time_scale();
};
var container = d3.select("body").append("div")
    .style("width",width);
   
d3.csv("Indexes.csv", function(error, data) {
    data.forEach(function(d) {
        d.Date = parseDate(d.Date);
        d.Fintech = +d.Fintech;
        d.EMCLOUD = +d.EMCLOUD;
        d.NASDAQ = +d.NASDAQ;
        d.SNP500= +d.SNP500;
        // d.EMCLOUD = +d.EMCLOUD;
    });
    // Scale the range of the data
    
    x.domain(d3.extent(data, function(d) { return d.Date; }));
    min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
    max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
    if (window.innerWidth<780){
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.8]);
    }
    else{
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.35]);
    }
    document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
    document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
    document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
    // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    dataVar = data;
    DateVar = data.Date;
    FintechVar = data.Fintech; 
    EMCLOUDVar = data.EMCLOUD;
    NASDAQVar = data.NASDAQ;
    SNP500VAR = data.SNP500;
    
    // EMCLOUDVAR = data.EMCLOUD;
    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
        .style("stroke", "#5B56EE")
        .attr("d", valueline(data));

    svg.append("path")   // change the line
      .attr("class", "line2")
      .style("stroke", "#A6D0D8")
      .attr("d", valueline2(data));

    svg.append("path")   // change the line
      .attr("class", "line3")
      .style("stroke", "black")
      .attr("d", valueline3(data));
    svg.append("path")   // change the line
      .attr("class", "line4")
      .style("stroke", "#FC714D")
      .attr("d", valueline4(data));
    // svg.append("path")   // change the line
    //   .attr("class", "line5")
    //   .style("stroke", "#A9A9A9")
    //   .attr("d", valueline5(data));

    // Add the X Axis

  // add the Y gridlines


    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis);

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis);
    // svg.append("g")         
    // .attr("class", "grid")
    // .attr("style","color: black;")
    // .attr("transform", "translate(0," + height + ")")
    // .call(make_x_axis()
    //     .tickSize(-height, 0, 0)
    //     .tickFormat("")
    // )
    // svg.append("g")			
    // .attr("class", "grid")
    // .call(make_y_axis()
    //         .tickSize(-width, 0, 0)
    //         .tickFormat("")
    // )
    var focus = svg.append("g")
        .attr("class", "focus")
        .attr("style","display: none; position: absolute; z-index: -1;");
  
    focus.append("circle")
        .attr("r", 5);
    focus.append("rect")
        .attr("width", 1)
        .attr("y", -1000)
        .attr("height", 1600)
        .attr("style","border-style: dotted; position: absolute;");
    var t_box = focus.append("rect")
        .attr("class", "hover-data-style")
        .attr("width", 150)
        .attr("height", 110)
        .attr("x", -75)
        .attr("y", -120)
        .attr("rx", 4)
        .attr("ry", 4)
        .attr("style","fill:white; stroke:black;");
    var t_date = focus.append("text")
        .attr("class", "tooltip-date")
        .attr("x", -55)
        .attr("y", -100);

    var t_ft = focus.append("text").classed("tooltip-fintech", true)
        .attr("style","fill: #5B56EE;").attr("x",-55).attr("y",-80);
    

    var t_EMCLOUD = focus.append("text")
        .attr("class", "tooltip-EMCLOUD")
        .attr("x", -55)
        .attr("y", -60)
        .attr("style","fill: #A6D0D8;");

    var t_nasdaq = focus.append("text")
        .attr("class", "tooltip-nasdaq")
        .attr("x", -55)
        .attr("y", -40)
        .attr("style","fill: black;");

    var t_snp = focus.append("text")
        .attr("class", "tooltip-snp")
        .attr("x", -55)
        .attr("y", -20)
        .attr("style","fill: #FC714D;");
    // focus.append("text")
    //     .attr("x", -55)
    //     .attr("y", -20)
    //     .text("Cloud:")
    //     .attr("style","fill: #A9A9A9;");

    // focus.append("text")
    //     .attr("class", "tooltip-emcloud")
    //     .attr("x", 10)
    //     .attr("y", -20)
    //     .attr("style","fill: #A9A9A9;");
    resized();
    var htmlString = focus[0][0];
    //console.log(htmlString);
    var engHello = "hello"
    svg.append("rect")
        .attr("class", "mouseOverlay")
        .attr("width", width)
        .attr("height", height)
        .on("mouseover", function() { focus.style('display',null); })
        .on("mouseout", function() { focus.attr("style","display: none; position: absolute;"); })
        .on("mousemove", function(){var x0 = x.invert(d3.mouse(this)[0]); mousemove1(dataVar, DateVar, FintechVar, EMCLOUDVar, NASDAQVar, SNP500VAR,focus,x0);});
        // .on("mousemove", mousemove);
  //   function mousemove() {
  //   var x0 = x.invert(d3.mouse(this)[0]),
  //         i = bisectDate(data, x0, 1),
  //         d0 = data[i - 1],
  //         d1 = data[i],
  //         d = x0 - d0.Date > d1.Date - x0 ? d1 : d0;
  //     focus.attr("transform", "translate(" + x(d.Date) + "," + y(d.Fintech) + ")");
  //     focus.select(".tooltip-date").text(dateFormatter(d.Date));
  //     focus.select(".tooltip-fintech").text(formatValue(d.Fintech.toFixed(2)));
  //     focus.select(".tooltip-EMCLOUD").text(formatValue(d.EMCLOUD.toFixed(2)));
  //     focus.select(".tooltip-nasdaq").text(formatValue(d.NASDAQ.toFixed(2)));
  //     focus.select(".tooltip-snp").text(formatValue(d.SNP500.toFixed(2)));
  //     var htmlString = focus.select(".tooltip-snp")[0][0];
  //     console.log(htmlString);
  // }
      function resized() {
      // if (window.innerWidth<780){
      //   y.domain([d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })-.3, d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })*2]);
      // }
      var scale = width / window.innerWidth;
      // Update SVG height to maintain aspect ratio
      svg.attr("height",height / scale);
      const newWidth = d3.select("svg").style("width");
      const newFontSize = 40 * (600 / parseInt(newWidth));
      d3.selectAll(".tick").select("text")
          .style("font-size", newFontSize)
      // Increase text scale proportional to overall scale reduction
      // e.g. 3/4 of the original width -> scale text by 4/3
      var n = 2;
      // t_box.attr("height",110+((scale)>1 ? 1+((scale-1)/n*10) : 1));
      // t_box.attr("y",-140-((scale)>1 ? 1+((scale-1)/n*10) : 1));
      t_box.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      t_date.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      t_ft.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      t_EMCLOUD.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      t_nasdaq.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      t_snp.attr("transform","scale(" + ((scale)>1 ? 1+(scale-1)/n : 1) + "," + ((scale)>1 ? 1+(scale-1)/n : 1) + ")");
      // t_lt20.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
      // t_bt2040.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
      // t_gt40.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
      // t_date.attr("y",-120-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
      // t_ft.attr("y",-100-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
      // t_EMCLOUD.attr("y",-80-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
      // t_nasdaq.attr("y",-60-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
      // t_snp.attr("y",-40-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
      //console.log(((scale)>1 ? 1+(scale-1)/10 : 1))
      }
      window.addEventListener("resize", function() {
        resized();
      });
        //window.onresize = resized;
      //window.onresize = resized;
});

// ** UpDate data section (Called from the onclick)
function updateAllTime() {
    // Get the data again
    document.getElementById("bg1").className = "bg1_on";
    document.getElementById("bg2").className = "bg2_off";
    document.getElementById("bg3").className = "bg3_off";
    document.getElementById("bg4").className = "bg4_off";
    document.getElementById("bg5").className = "bg5_off";
    document.getElementById("bg6").className = "bg6_off";
    document.getElementById("bg7").className = "bg7_off";

    time_frame = 'All Time'
    d3.csv("Indexes.csv", function(error, data) {
       	data.forEach(function(d) {
            d.Date = parseDate(d.Date);
            d.Fintech = +d.Fintech;
            d.EMCLOUD = +d.EMCLOUD;
            d.NASDAQ = +d.NASDAQ;
            d.SNP500= +d.SNP500;
            // d.EMCLOUD = +d.EMCLOUD;
	    });
      //console.log(removeVerticals)
      //console.log(removeType)
      // console.log(possible_companies)
      var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)
      //console.log(proper_tickers)
      // console.log(data)
      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i)-1)})
      //console.log(new_ft_mcs)
      //console.log(ft_market_caps)
      //console.log(performances)
      //console.log(ft_companies)
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
        // if (index == 1670){
        //   console.log(performances[index])
        //   console.log(new_ft_mcs[index])
        //   console.log(produceAndAdd(performances[index],new_ft_mcs[index]))
        // }
      }
      //console.log(items)
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      console.log(new_ft)
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      //console.log(data)
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
    	// Scale the range of the data again 
    	x.domain(d3.extent(data, function(d) { return d.Date; }));
      min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
      max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
      if (window.innerWidth<780){
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.8]);
      }
      else{
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.35]);
      }
      
      document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
      document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
      document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar = data;
      DateVar = data.Date;
      FintechVar = data.Fintech; 
      EMCLOUDVar = data.EMCLOUD;
      NASDAQVar = data.NASDAQ;
      SNP500VAR = data.SNP500;

      // var today = new Date();
      // today.setFullYear(today.getFullYear()-1);
      // console.log(today.toLocaleDateString())

      // EMCLOUDVAR = data.EMCLOUD;
    // Select the section we want to apply our changes to
    var svg = d3.select("body").transition();

    // Make the changes
        svg.select(".line")   // change the line
            .duration(750)
            .attr("class", "line")
            .style("stroke", "#5B56EE")
            .attr("d", valueline(data));
        svg.select(".line2")   // change the line
            .duration(750)
            .attr("class", "line2")
            .style("stroke", "#A6D0D8")
            .attr("d", valueline2(data));
        svg.select(".line3")   // change the line
            .duration(750)
            .attr("class", "line3")
            .style("stroke", "black")
            .attr("d", valueline3(data));
        svg.select(".line4")   // change the line
            .duration(750)
            .attr("class", "line4")
            .style("stroke", "#FC714D")
            .attr("d", valueline4(data));
        // svg.select(".line5")   // change the line
        //     .duration(750)
        //     .attr("class", "line5")
        //     .style("stroke", "#A9A9A9")
        //     .attr("d", valueline5(data));
        svg.select(".x.axis") // change the x axis
            .duration(750)
            .call(xAxis.tickFormat(d3.time.format("%Y")).ticks(10));
        svg.select(".y.axis") // change the y axis
            .duration(750)
            .call(yAxis);
    });
}
function update3Y() {
    // let button_graph_h = document.querySelector(".button_graph:hover");
    // button_graph_h.style.borderBottom = "2px solid black";
    document.getElementById("bg1").className = "bg1_off";
    document.getElementById("bg2").className = "bg2_on";
    document.getElementById("bg3").className = "bg3_off";
    document.getElementById("bg4").className = "bg4_off";
    document.getElementById("bg5").className = "bg5_off";
    document.getElementById("bg6").className = "bg6_off";
    document.getElementById("bg7").className = "bg7_off";
    time_frame = '3Y'
    // Get the data again
    // setTimeout(function(){
    // console.log(possible_companies);
    d3.csv("Indexes.csv", function(error, data) {
       	data.forEach(function(d) {
            d.Date = parseDate(d.Date);
            d.Fintech = +d.Fintech;
            d.EMCLOUD = +d.EMCLOUD;
            d.NASDAQ = +d.NASDAQ;
            d.SNP500= +d.SNP500;
            d.EMCLOUD = +d.EMCLOUD;
	    });
      var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)
      // console.log(proper_tickers)
      
      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
      }
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
      var dateTresh = new Date();
      dateTresh.setDate(dateTresh.getDate() - 1);
      // var nextMonth = today.add('month', 1);
      dateTresh.setFullYear(dateTresh.getFullYear()-3);
      var data = data.filter(function (el) {
        return el.Date > dateTresh;
      });
      //console.log(data)
      var first_ft_val = data[0].Fintech
      var first_EMCLOUD_val = data[0].EMCLOUD
      var first_nasdaq_val = data[0].NASDAQ
      var first_snp_val = data[0].SNP500
      data.map((d) => {
        d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
        d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
        d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
        d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
        return data;
      });
      // var foo = { a: 1, b: 2, c: {x: 999, y:998, z: 997}};
      // console.log(foo)
    	// Scale the range of the data again 
    	x.domain(d3.extent(data, function(d) { return d.Date; }));
      min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
      max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
      if (window.innerWidth<780){
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.65]);
      }
      else{
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.4]);
      }
      
      document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
      document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
      document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar = data;
      DateVar = data.Date;
      FintechVar = data.Fintech; 
      EMCLOUDVar = data.EMCLOUD;
      NASDAQVar = data.NASDAQ;
      SNP500VAR = data.SNP500;
      // EMCLOUDVAR = data.EMCLOUD;
    // Select the section we want to apply our changes to
    
    var svg = d3.select("body").transition();

    // Make the changes
        svg.select(".line")   // change the line
            .duration(750)
            .attr("class", "line")
            .style("stroke", "#5B56EE")
            .attr("d", valueline(data));
        svg.select(".line2")   // change the line
            .duration(750)
            .attr("class", "line2")
            .style("stroke", "#A6D0D8")
            .attr("d", valueline2(data));
        svg.select(".line3")   // change the line
            .duration(750)
            .attr("class", "line3")
            .style("stroke", "black")
            .attr("d", valueline3(data));
        svg.select(".line4")   // change the line
            .duration(750)
            .attr("class", "line4")
            .style("stroke", "#FC714D")
            .attr("d", valueline4(data));
        // svg.select(".line5")   // change the line
        //     .duration(750)
        //     .attr("class", "line5")
        //     .style("stroke", "#A9A9A9")
        //     .attr("d", valueline5(data));
        svg.select(".x.axis") // change the x axis
            .duration(750)
            .call(xAxis.tickFormat(d3.time.format("%Y")).ticks(3));
        svg.select(".y.axis") // change the y axis
            .duration(750)
            .call(yAxis);
    });
}
// ** UpDate data section (Called from the onclick)
function updateYearly() {
  document.getElementById("bg1").className = "bg1_off";
  document.getElementById("bg2").className = "bg2_off";
  document.getElementById("bg3").className = "bg3_on";
  document.getElementById("bg4").className = "bg4_off";
  document.getElementById("bg5").className = "bg5_off";
  document.getElementById("bg6").className = "bg6_off";
  document.getElementById("bg7").className = "bg7_off";
  time_frame = '1Y'
  // Get the data again
  d3.csv("Indexes.csv", function(error, data) {
        data.forEach(function(d) {
          d.Date = parseDate(d.Date);
          d.Fintech = +d.Fintech;
          d.EMCLOUD = +d.EMCLOUD;
          d.NASDAQ = +d.NASDAQ;
          d.SNP500= +d.SNP500;
          // d.EMCLOUD = +d.EMCLOUD;
      });
      var possible_comps_filtered = possible_companies.filter(function (el) {
          return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
        });
        proper_tickers = possible_comps_filtered.map(a => a.ticker)

        //!!!Market Cap Weighting Index!!!
        new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
        performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
        items = []
        for (index = 0; index < performances.length; index++) {
          items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
        }
        new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer)-1: mc_sum = NaN; return mc_sum})
        // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
        // console.log(new_ft);

        //!!!Equal Weighting Index!!!
        // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
        
        for(var i = 0; i < new_ft.length; i += 1) {
          data[i].Fintech = new_ft[i];
        }
        // var today = new Date();
        // today.setFullYear(today.getFullYear()-3);
        // console.log(today.toLocaleDateString())
        var dateTresh = new Date();
        dateTresh.setDate(dateTresh.getDate() - 1);
        // var nextMonth = today.add('month', 1);
        dateTresh.setFullYear(dateTresh.getFullYear()-1);
        var data = data.filter(function (el) {
          return el.Date > dateTresh;
        });
        var first_ft_val = data[0].Fintech
        var first_EMCLOUD_val = data[0].EMCLOUD
        var first_nasdaq_val = data[0].NASDAQ
        var first_snp_val = data[0].SNP500
        data.map((d) => {
          d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
          d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
          d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
          d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
          return data;
        });
      // Scale the range of the data again 
      x.domain(d3.extent(data, function(d) { return d.Date; }));
      min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
      max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
      if (window.innerWidth<780){
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.65]);
      }
      else{
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.4]);
      }
      
      document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
      document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
      document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar = data;
      DateVar = data.Date;
      FintechVar = data.Fintech; 
      EMCLOUDVar = data.EMCLOUD;
      NASDAQVar = data.NASDAQ;
      SNP500VAR = data.SNP500;
      // EMCLOUDVAR = data.EMCLOUD;
  // Select the section we want to apply our changes to
      var svg = d3.select("body").transition();

  // Make the changes
      svg.select(".line")   // change the line
          .duration(750)
          .attr("class", "line")
          .style("stroke", "#5B56EE")
          .attr("d", valueline(data));
      svg.select(".line2")   // change the line
          .duration(750)
          .attr("class", "line2")
          .style("stroke", "#A6D0D8")
          .attr("d", valueline2(data));
      svg.select(".line3")   // change the line
          .duration(750)
          .attr("class", "line3")
          .style("stroke", "black")
          .attr("d", valueline3(data));
      svg.select(".line4")   // change the line
          .duration(750)
          .attr("class", "line4")
          .style("stroke", "#FC714D")
          .attr("d", valueline4(data));
      // svg.select(".line5")   // change the line
      //     .duration(750)
      //     .attr("class", "line5")
      //     .style("stroke", "#A9A9A9")
      //     .attr("d", valueline5(data));   
      svg.select(".x.axis") // change the x axis
          .duration(750)
          .call(xAxis.tickFormat(d3.time.format("%b")));
      svg.select(".y.axis") // change the y axis
          .duration(750)
          .call(yAxis);
      var focus = svg.select('.focus');
      // var htmlString = document.getElementsByClassName('.tooltip-snp')[0].innerHTML;
      // focus.select("circle")
      //     .attr("r", 5);
    
      // var htmlString = focus[0][0];
      // console.log(htmlString);
      // console.log(focus.select(".tooltip-snp"));
      // console.log("Hello world!");
      // var mouseOverlay = svg.select(".mouseOverlay");
      // console.log(mouseOverlay[0][0]);
      // mouseOverlay.attr("width", width)
      //     .attr("height", height)
      //     .attr("mouseover", function() { focus.style('display',null); })
      //     .attr("mouseout", function() { focus.attr("style","display: none; position: absolute;"); })
      //     .attr("mousemove", function(){var x0 = x.invert(d3.mouse(this)[0]); mousemove1(data, data.Date, data.Fintech, data.EMCLOUD, data.NASDAQ, data.SNP500,focus,x0);});

  });
}

function updateYTD() {
document.getElementById("bg1").className = "bg1_off";
document.getElementById("bg2").className = "bg2_off";
document.getElementById("bg3").className = "bg3_off";
document.getElementById("bg4").className = "bg4_on";
document.getElementById("bg5").className = "bg5_off";
document.getElementById("bg6").className = "bg6_off";
document.getElementById("bg7").className = "bg7_off";
time_frame = 'YTD'
// Get the data again
d3.csv("Indexes.csv", function(error, data) {
       data.forEach(function(d) {
        d.Date = parseDate(d.Date);
        d.Fintech = +d.Fintech;
        d.EMCLOUD = +d.EMCLOUD;
        d.NASDAQ = +d.NASDAQ;
        d.SNP500= +d.SNP500;
        // d.EMCLOUD = +d.EMCLOUD;
    });
    var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)

      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
      }
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer) - 1: mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
      var dateTresh = new Date(new Date().getFullYear(), 0, 1);
      var data = data.filter(function (el) {
        return el.Date > dateTresh;
      });
      var first_ft_val = data[0].Fintech
      var first_EMCLOUD_val = data[0].EMCLOUD
      var first_nasdaq_val = data[0].NASDAQ
      var first_snp_val = data[0].SNP500
      data.map((d) => {
        d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
        d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
        d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
        d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
        return data;
      });
      //console.log(data[0].Fintech)
    // Scale the range of the data again 
    x.domain(d3.extent(data, function(d) { return d.Date; }));
    min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
    max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
    if (window.innerWidth<780){
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.65]);
    }
    else{
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.4]);
    }
    
    document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
    document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
    document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
    // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    dataVar = data;
    DateVar = data.Date;
    FintechVar = data.Fintech; 
    EMCLOUDVar = data.EMCLOUD;
    NASDAQVar = data.NASDAQ;
    SNP500VAR = data.SNP500;
    // EMCLOUDVAR = data.EMCLOUD;
// Select the section we want to apply our changes to
var svg = d3.select("body").transition();

// Make the changes
    svg.select(".line")   // change the line
        .duration(750)
        .attr("class", "line")
        .style("stroke", "#5B56EE")
        .attr("d", valueline5(data));
    svg.select(".line2")   // change the line
        .duration(750)
        .attr("class", "line2")
        .style("stroke", "#A6D0D8")
        .attr("d", valueline2(data));
    svg.select(".line3")   // change the line
        .duration(750)
        .attr("class", "line3")
        .style("stroke", "black")
        .attr("d", valueline3(data));
    svg.select(".line4")   // change the line
        .duration(750)
        .attr("class", "line4")
        .style("stroke", "#FC714D")
        .attr("d", valueline4(data));
    // svg.select(".line5")   // change the line
    //     .duration(750)
    //     .attr("class", "line5")
    //     .style("stroke", "#A9A9A9")
    //     .attr("d", valueline5(data));   
    svg.select(".x.axis") // change the x axis
        .duration(750)
        .call(xAxis.tickFormat(d3.time.format("%b")));
    svg.select(".y.axis") // change the y axis
        .duration(750)
        .call(yAxis);
    var focus = svg.select('.focus');
    // var htmlString = document.getElementsByClassName('.tooltip-snp')[0].innerHTML;
    // focus.select("circle")
    //     .attr("r", 5);
   
    // var htmlString = focus[0][0];
    // console.log(htmlString);
    // console.log(focus.select(".tooltip-snp"));
    // console.log("Hello world!");
    // var mouseOverlay = svg.select(".mouseOverlay");
    // console.log(mouseOverlay[0][0]);
    // mouseOverlay.attr("width", width)
    //     .attr("height", height)
    //     .attr("mouseover", function() { focus.style('display',null); })
    //     .attr("mouseout", function() { focus.attr("style","display: none; position: absolute;"); })
    //     .attr("mousemove", function(){var x0 = x.invert(d3.mouse(this)[0]); mousemove1(data, data.Date, data.Fintech, data.EMCLOUD, data.NASDAQ, data.SNP500,focus,x0);});

});
}

function update6M() {
document.getElementById("bg1").className = "bg1_off";
document.getElementById("bg2").className = "bg2_off";
document.getElementById("bg3").className = "bg3_off";
document.getElementById("bg4").className = "bg4_off";
document.getElementById("bg5").className = "bg5_on";
document.getElementById("bg6").className = "bg6_off";
document.getElementById("bg7").className = "bg7_off";
    time_frame = '6M'
    // Get the data again
    d3.csv("Indexes.csv", function(error, data) {
       	data.forEach(function(d) {
            d.Date = parseDate(d.Date);
            d.Fintech = +d.Fintech;
            d.EMCLOUD = +d.EMCLOUD;
            d.NASDAQ = +d.NASDAQ;
            d.SNP500= +d.SNP500;
            // d.EMCLOUD = +d.EMCLOUD;
	    });
      var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)

      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
      }
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer) - 1: mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
      var dateTresh = new Date();
      dateTresh.setDate(dateTresh.getDate() - 1);
      // var nextMonth = today.add('month', 1);
      dateTresh.setMonth(dateTresh.getMonth()-6);
      var data = data.filter(function (el) {
        return el.Date > dateTresh;
      });
      var first_ft_val = data[0].Fintech
      var first_EMCLOUD_val = data[0].EMCLOUD
      var first_nasdaq_val = data[0].NASDAQ
      var first_snp_val = data[0].SNP500
      data.map((d) => {
        d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
        d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
        d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
        d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
        return data;
      });
    	// Scale the range of the data again 
    	x.domain(d3.extent(data, function(d) { return d.Date; }));
      min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
      max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
      if (window.innerWidth<780){
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.65]);
      }
      else{
        y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.4]);
      }
      
      document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
      document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
      document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar = data;
      DateVar = data.Date;
      FintechVar = data.Fintech; 
      EMCLOUDVar = data.EMCLOUD;
      NASDAQVar = data.NASDAQ;
      SNP500VAR = data.SNP500;
      // EMCLOUDVAR = data.EMCLOUD;
    // Select the section we want to apply our changes to
    var svg = d3.select("body").transition();

    // Make the changes
        svg.select(".line")   // change the line
            .duration(750)
            .attr("class", "line")
            .style("stroke", "#5B56EE")
            .attr("d", valueline5(data));
        svg.select(".line2")   // change the line
            .duration(750)
            .attr("class", "line2")
            .style("stroke", "#A6D0D8")
            .attr("d", valueline2(data));
        svg.select(".line3")   // change the line
            .duration(750)
            .attr("class", "line3")
            .style("stroke", "black")
            .attr("d", valueline3(data));
        svg.select(".line4")   // change the line
            .duration(750)
            .attr("class", "line4")
            .style("stroke", "#FC714D")
            .attr("d", valueline4(data));
        // svg.select(".line5")   // change the line
        //     .duration(750)
        //     .attr("class", "line5")
        //     .style("stroke", "#A9A9A9")
        //     .attr("d", valueline5(data));        
        svg.select(".x.axis") // change the x axis
            .duration(750)
            .call(xAxis.tickFormat(d3.time.format("%b")));
        svg.select(".y.axis") // change the y axis
            .duration(750)
            .call(yAxis);
    });
}
function updateMonthly() {
document.getElementById("bg1").className = "bg1_off";
document.getElementById("bg2").className = "bg2_off";
document.getElementById("bg3").className = "bg3_off";
document.getElementById("bg4").className = "bg4_off";
document.getElementById("bg5").className = "bg5_off";
document.getElementById("bg6").className = "bg6_on";
document.getElementById("bg7").className = "bg7_off";
time_frame = '1M'
// Get the data again
d3.csv("Indexes.csv", function(error, data) {
       data.forEach(function(d) {
        d.Date = parseDate(d.Date);
        d.Fintech = +d.Fintech;
        d.EMCLOUD = +d.EMCLOUD;
        d.NASDAQ = +d.NASDAQ;
        d.SNP500= +d.SNP500;
        // d.EMCLOUD = +d.EMCLOUD;
    });
    var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)

      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
      }
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer) - 1: mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
      var dateTresh = new Date();
      dateTresh.setDate(dateTresh.getDate() - 1);
      // var nextMonth = today.add('month', 1);
      dateTresh.setMonth(dateTresh.getMonth()-1);
      var data = data.filter(function (el) {
        return el.Date > dateTresh;
      });
      var first_ft_val = data[0].Fintech
      var first_EMCLOUD_val = data[0].EMCLOUD
      var first_nasdaq_val = data[0].NASDAQ
      var first_snp_val = data[0].SNP500
      data.map((d) => {
        d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
        d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
        d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
        d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
        return data;
      });
    // Scale the range of the data again 
    x.domain(d3.extent(data, function(d) { return d.Date; }));
    min_value = d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })
    max_value = d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500);})
    if (window.innerWidth<780){
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.65]);
    }
    else{
      y.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.4]);
    }
    document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
    document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
    document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
    // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    dataVar = data;
    DateVar = data.Date;
    FintechVar = data.Fintech; 
    EMCLOUDVar = data.EMCLOUD;
    NASDAQVar = data.NASDAQ;
    SNP500VAR = data.SNP500;
    // EMCLOUDVAR = data.EMCLOUD;
// Select the section we want to apply our changes to
var svg = d3.select("body").transition();

// Make the changes
    svg.select(".line")   // change the line
        .duration(750)
        .attr("class", "line")
        .style("stroke", "#5B56EE")
        .attr("d", valueline5(data));
    svg.select(".line2")   // change the line
        .duration(750)
        .attr("class", "line2")
        .style("stroke", "#A6D0D8")
        .attr("d", valueline2(data));
    svg.select(".line3")   // change the line
        .duration(750)
        .attr("class", "line3")
        .style("stroke", "black")
        .attr("d", valueline3(data));
    svg.select(".line4")   // change the line
        .duration(750)
        .attr("class", "line4")
        .style("stroke", "#FC714D")
        .attr("d", valueline4(data));
    // svg.select(".line5")   // change the line
    //     .duration(750)
    //     .attr("class", "line5")
    //     .style("stroke", "#A9A9A9")
    //     .attr("d", valueline5(data));   
    svg.select(".x.axis") // change the x axis
        .duration(750)
        .call(xAxis.tickFormat(d3.time.format("%x")).ticks(5));
    svg.select(".y.axis") // change the y axis
        .duration(750)
        .call(yAxis);

});
}

function updateWeekly() {
document.getElementById("bg1").className = "bg1_off";
document.getElementById("bg2").className = "bg2_off";
document.getElementById("bg3").className = "bg3_off";
document.getElementById("bg4").className = "bg4_off";
document.getElementById("bg5").className = "bg5_off";
document.getElementById("bg6").className = "bg6_off";
document.getElementById("bg7").className = "bg7_on";
time_frame = '1W'
// Get the data again
d3.csv("Indexes.csv", function(error, data) {
       data.forEach(function(d) {
        d.Date = parseDate(d.Date);
        d.Fintech = +d.Fintech;
        d.EMCLOUD = +d.EMCLOUD;
        d.NASDAQ = +d.NASDAQ;
        d.SNP500= +d.SNP500;
        // d.EMCLOUD = +d.EMCLOUD;
    });
    // console.log(data)
    var possible_comps_filtered = possible_companies.filter(function (el) {
        return (removeType.indexOf(el.type) < 0)&(removeVerticals.indexOf(el.vertical) < 0); 
      });
      proper_tickers = possible_comps_filtered.map(a => a.ticker)

      //!!!Market Cap Weighting Index!!!
      new_ft_mcs = ft_market_caps.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer): mc_sum = 1; return i.map(function(j){return j/mc_sum})})
      performances = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))})
      items = []
      for (index = 0; index < performances.length; index++) {
        items.push(produceAndAdd(performances[index],new_ft_mcs[index]))
      }
      new_ft = items.map(function(i){(i.length>0) ? mc_sum = i.reduce(reducer) - 1: mc_sum = NaN; return mc_sum})
      // console.log(new_ft.reduce(function(a,i){return a*new_ft_mcs[i]},0))
      // console.log(new_ft);

      //!!!Equal Weighting Index!!!
      // new_ft = ft_companies.map(function(a) {return _.pick(a,proper_tickers)}).map(function(i){return Object.values(i).filter(function(x) {return x !== ""}).map(i=>Number(i))}).map(function(i){return average(i)}).map(function(x){return x-1})
      
      for(var i = 0; i < new_ft.length; i += 1) {
        data[i].Fintech = new_ft[i];
      }
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-3);
      // console.log(today.toLocaleDateString())
      var dateTresh = new Date();
      dateTresh.setDate(dateTresh.getDate() - 8);
      // var nextMonth = today.add('month', 1);
      var data = data.filter(function (el) {
        return el.Date > dateTresh;
      });
      //console.log(data)
      var first_ft_val = data[0].Fintech
      var first_EMCLOUD_val = data[0].EMCLOUD
      var first_nasdaq_val = data[0].NASDAQ
      var first_snp_val = data[0].SNP500
      data.map((d) => {
        d.Fintech = ((d.Fintech+1)/(first_ft_val+1))-1
        d.EMCLOUD = ((d.EMCLOUD+1)/(first_EMCLOUD_val+1))-1
        d.NASDAQ = ((d.NASDAQ+1)/(first_nasdaq_val+1))-1
        d.SNP500 = ((d.SNP500+1)/(first_snp_val+1))-1
        return data;
      });
    // Scale the range of the data again 
    x.domain(d3.extent(data, function(d) { return d.Date; }));
    if (window.innerWidth<780){
      y.domain([d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })-.2, d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })+.3]);
    }
    else{
      y.domain([d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })-.2, d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })+.2]);
    }
    
    document.getElementById("fintechValueJS").innerHTML = ((data[data.length-1].Fintech*100)<0?"":"+") + (data[data.length-1].Fintech*100).toFixed(1); 
    document.getElementById("EMCLOUDValueJS").innerHTML = ((data[data.length-1].EMCLOUD*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
    document.getElementById("nasdaqValueJS").innerHTML = ((data[data.length-1].NASDAQ*100)<0?"":"+") + (data[data.length-1].NASDAQ*100).toFixed(1);
    document.getElementById("snp500ValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].SNP500*100).toFixed(1);
    // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);

    dataVar = data;
    DateVar = data.Date;
    FintechVar = data.Fintech; 
    EMCLOUDVar = data.EMCLOUD;
    NASDAQVar = data.NASDAQ;
    SNP500VAR = data.SNP500;
    // EMCLOUDVAR = data.EMCLOUD;
// Select the section we want to apply our changes to
var svg = d3.select("body").transition();

// Make the changes
    svg.select(".line")   // change the line
        .duration(750)
        .attr("class", "line")
        .style("stroke", "#5B56EE")
        .attr("d", valueline5(data));
    svg.select(".line2")   // change the line
        .duration(750)
        .attr("class", "line2")
        .style("stroke", "#A6D0D8")
        .attr("d", valueline2(data));
    svg.select(".line3")   // change the line
        .duration(750)
        .attr("class", "line3")
        .style("stroke", "black")
        .attr("d", valueline3(data));
    svg.select(".line4")   // change the line
        .duration(750)
        .attr("class", "line4")
        .style("stroke", "#FC714D")
        .attr("d", valueline4(data));

    // svg.select(".line5")   // change the line
    //     .duration(750)
    //     .attr("class", "line5")
    //     .style("stroke", "#A9A9A9")
    //     .attr("d", valueline5(data));   
      
    svg.select(".x.axis") // change the x axis
        .duration(750)
        .call(xAxis.tickFormat(d3.time.format("%x")).ticks(5));
    svg.select(".y.axis") // change the y axis
        .duration(750)
        .call(yAxis);

});
}
d3.csv("key_figures.csv", function(error, data2) {
          data2.forEach(function(d) {
            d[0] = d[0];
        });
    document.getElementById("keyValTMarketCap").innerHTML = data2[0][0];
    document.getElementById("keyValAMarketCap").innerHTML = data2[1][0];
    document.getElementById("keyValRevMult").innerHTML = data2[2][0];
    document.getElementById("keyValRevGrowth").innerHTML = data2[3][0];
      });
      
  </script>

<div class="legend" id="performance">
  <div>
    <li><span class="fintech_legend"></span> Fintech</li>
    <li><span class="EMCLOUD_legend"></span> EMCLOUD</li>
    <li><span class="nasdaq_legend"></span> NASDAQ</li>
    <li><span class="snp500_legend"></span> S&P500</li>
  </div>
</div>
<!-- <ul class="legend" id="performance">
  <li><span class="fintech_legend"></span> Fintech</li>
  <li><span class="EMCLOUD_legend"></span> EMCLOUD</li>
  <li><span class="nasdaq_legend"></span> NASDAQ</li>
  <li><span class="snp500_legend"></span> S&P500</li>
</ul> -->

<!-- <script>
         
    var margin = {top: 20, right: 20, bottom: 30, left: 150},
    width = 1350 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

// parse the date / time
var parseDate = d3.time.format("%Y-%m-%d").parse;

// set the ranges
var x = d3.scaleTime().range([0, width]);
var y = d3.scaleLinear().range([height,0]);

var formatPercent = d3.format("+.0%"),
    formatChange = function(x) { return formatPercent(x - 1); },
    parseDate = d3.time.format("%Y-%m-%d").parse;

// define the 1st line
var valueline = d3.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.NASDAQ); });

// define the 2nd line
var valueline2 = d3.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.Fintech); });

var valueline3 = d3.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.EMCLOUD); });

var valueline4 = d3.line()
    .x(function(d) { return x(d.Date); })
    .y(function(d) { return y(d.SNP500); });

// append the svg obgect to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");
function updateDataYear() {
// Get the data
d3.csv("Indexes.csv", function(error, data) {
      data.forEach(function(d) {
          d.Date = parseDate(d.Date);
          d.FinTech = +d.FinTech;
          d.EMCLOUD = +d.EMCLOUD;
          d.SNP500 = +d.SNP500;
          d.NASDAQ = +d.NASDAQ;
    
      });

  // Scale the range of the data
  x.domain(d3.extent(data, function(d) { return d.Date; }));
  y.domain([0, d3.max(data, function(d) {
	  return Math.max(d.Fintech, d.NASDAQ, d.EMCLOUD, d.SNP500); })]);

  // Add the valueline path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", '#5B56EE')
      .attr("d", valueline);

  // Add the valueline2 path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", "#FC714D")
      .attr("d", valueline2);

      svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", "#1F1F1F")
      .attr("d", valueline4);


  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", '#A6D0D8')
      .attr("d", valueline3);

  // Add the valueline2 path.
  

  // Add the X Axis
  svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x));

  // Add the Y Axis
  svg.append("g")
      .call(d3.axisLeft(y));
    
  
  });
}s

  function updateDataMonth() {
    d3.csv("IndexesMonth.csv", function(error, data) {
      data.forEach(function(d) {
          d.Date = parseDate(d.Date);
          d.FinTech = +d.FinTech;
          d.EMCLOUD = +d.EMCLOUD;
          d.SNP500 = +d.SNP500;
          d.NASDAQ = +d.NASDAQ;
    
      });

  // Scale the range of the data
  x.domain(d3.extent(data, function(d) { return d.Date; }));
  y.domain([0, d3.max(data, function(d) {
	  return Math.max(d.Fintech, d.NASDAQ, d.EMCLOUD, d.SNP500); })]);

  // Add the valueline path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", '#5B56EE')
      .attr("d", valueline);

  // Add the valueline2 path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", "#FC714D")
      .attr("d", valueline2);


  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", '#A6D0D8')
      .attr("d", valueline3);

  // Add the valueline2 path.
  svg.append("path")
      .data([data])
      .attr("class", "line")
      .style("stroke", "#1F1F1F")
      .attr("d", valueline4);

  // Add the X Axis
  svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x));

  // Add the Y Axis
  svg.append("g")
      .call(d3.axisLeft(y).tickFormat(formatChange));
    
  


});
}
      

</script> -->
<!-- <div class='statistics'>
  <p class="legendflex">
    <span class="nasdaq-dot"></span>
    <span class="nasdaq-dot"></span>
    <span class="nasdaq-dot"></span>
  </p>
</div> -->




</div>



    <div class='statistics'>
      <!-- <table class="table table-dark table-bordered border-white">
        <thead>
          <p class="filter-news__category">The F-Prime Fintech Index is designed to track the performance of emerging, publicly traded financial technology companies. </p>
          <br /> <br /> 
          <tr>
            <td class="table-dark table-bordered border-white"> 
              <div class='overview'>TOTAL MARKET CAP<h1>740B</h1> </div>
              <br /> <br /> <br /> <br /> <br /> </td>
             <td class="table-dark table-bordered border-white"> 
              <div class='overview'>AVERAGE MARKET CAP<h1>13B</h1> </div>
              </td>
            <td class="table-dark table-bordered border-white">
              <div class='overview'>AVERAGE REVENUE MULTIPLE<h1>21.4x</h1> </div>
              </td>
            <td class="table-dark table-bordered border-white">
              <div class='overview'>AVERAGE REVENUE GROWTH RATE<h1>41.6%</h1>  </div>
              </td>
          </tr>
        </thead>
      </table> -->
      <div class="flex_background">
        <div class="flex">
          <div>TOTAL MARKET CAP <br> <span style="font-size: 250%;" id = "keyValTMarketCap"></span></div>
          <div class = 'parallelogram_stats'></div>
          <div>AVG. MARKET CAP <br> <span style="font-size: 250%;" id = "keyValAMarketCap"></span></div>
          <div class = 'parallelogram_stats'></div>
          <div>AVG. REVENUE MULTIPLE <br> <span style="font-size: 250%;" id = "keyValRevMult"></span></div>
          <div class = 'parallelogram_stats'></div>
          <div>AVG. REVENUE GROWTH <br> <span style="font-size: 250%;" id = "keyValRevGrowth"></span></div>
        </div>
      </div>
    </div>
  

    <p id="finalTable"></p>




</div>
<div class="section_headers_div">
  <h2 class="section_headers" id = "companies">LTM Revenue Multiples</h2>
</div>
<div class="dropdown" style="margin-left: 90.5%;float:right;">
  <button class="dropbtn"><span class="glyphicon">&#xe138;</span></button>
  <div class="dropdown-content">
    <div class = 'vertical_toggles'>
      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "insurance_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Insurance</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "payments_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Payments</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "banking_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Banking</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "lending_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Lending</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "saas_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>B2B SaaS</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "wealth_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Wealth/Asset Mgmt</label>
        </div>
      </div>

      <div class="pretty p-default" style = "margin-left: 2%;margin-top: 5%;margin-bottom: 1.5%;">
        <input id = "re_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>PropTech</label>
        </div>
      </div>
    </div>
    <div class = "type_toggles">
      <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "spac_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>SPAC</label>
        </div>
      </div>
      <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;">
        <input id = "dl_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Direct Listing</label>
        </div>
      </div>
      <div class="pretty p-switch" style = "margin-left: 2%;margin-top: 5%;margin-bottom: 5%;">
        <input id = "ipo_bool_new" type="checkbox" checked = "" />
        <div class="state">
            <label>Traditional IPO</label>
        </div>
      </div>
    </div>

  </div>
</div>
<script>

  // var modal = document.getElementById("myModal");
  // modal.style.display = "none";
  // // Get the button that opens the modal
  // var btn = document.getElementById("myBtn");
  
  // // Get the <span> element that closes the modal
  // var span = document.getElementsByClassName("close")[0];
  
  // // When the user clicks the button, open the modal 
  // btn.onclick = function() {
  //   if (modal.style.display == "block"){modal.style.display = "none";}
  //   else {modal.style.display = "block";}
  // }
  
  // // When the user clicks on <span> (x), close the modal
  // span.onclick = function() {
  //   modal.style.display = "none";
  // }
  
  // // When the user clicks anywhere outside of the modal, close it
  // window.onclick = function(event) {
  //   if (event.target == modal) {
  //     modal.style.display = "none";
  //   }
  // }
  // function popupmenu() {
  //   document.getElementById("myDropdown").classList.toggle("show");
  // }
  
  // // Close the dropdown if the user clicks outside of it
  // window.onclick = function(event) {
  //   if (!event.target.matches('.vertical-type_toggle')) {
  //     var dropdowns = document.getElementsByClassName("dropdown-content");
  //     var i;
  //     for (i = 0; i < dropdowns.length; i++) {
  //       var openDropdown = dropdowns[i];
  //       if (openDropdown.classList.contains('show')) {
  //         openDropdown.classList.remove('show');
  //       }
  //     }
  //   }
  // }
  
    $("a").click(function(){
    var pageId = $(this).attr("data-page");
    $("html, body").animate({ scrollTop: $("#"+pageId).offset().top }, 10);
  });
  
    function getWidth() {
      var windowWidth = document.documentElement.clientWidth;
    // Math.max(
    //   document.body.scrollWidth,
    //   document.documentElement.scrollWidth,
    //   document.body.offsetWidth,
    //   document.documentElement.offsetWidth,
    //   document.documentElement.clientWidth
    // );
  
    return windowWidth
  }
  
  function getHeight() {
    var windowHeight = document.documentElement.clientHeight;
    // Math.max(
    //   document.body.scrollHeight,
    //   document.documentElement.scrollHeight,
    //   document.body.offsetHeight,
    //   document.documentElement.offsetHeight,
    //   document.documentElement.clientHeight
    // );
    return windowHeight
  }
  
  
  // console.log('Width:  ' +  winWidth);
  // console.log('Height: ' + window.innerHeight);
  // function changeGraphSize(){
  // var widthBrowser = getWidth();
  // var heightBrowser = getHeight();
  // //console.log(widthBrowser)
  // var	margin = {top: 30, right: 225, bottom: 30, left: 225},
  //     width = widthBrowser  - margin.left - margin.right,
  //     height = heightBrowser - 350,
  //     tooltip = { width: 100, height: 100, x: 10, y: -30 };
  
  // // Set the dimensions of the canvas / graph
  // }
  // window.addEventListener("resize", changeGraphSize);
    // Set the dimensions of the canvas / graph
    if (window.innerWidth<400){
        var	margin_new = {top: 100, right: 150, bottom: 80, left: 150},
        width_new = 1920  - margin_new.left - margin_new.right,
        height_new = 500,
        tooltip = { width_new: 100, height_new: 100, x: 10, y: -30 };
      }
    else{
        var	margin_new = {top: 30, right: 175, bottom: 80, left: 175},
        width_new = 1920  - margin_new.left - margin_new.right,
        height_new = 500,
        tooltip = { width_new: 100, height_new: 100, x: 10, y: -30 };
        //console.log([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.3]);
      }

   // Parse the Date / time
  var parseDate = d3.time.format("%m/%d/%Y").parse,
          bisectDate = d3.bisector(function(d) { return d.Date; }).left,
          formatValue = d3.format(","),
          dateFormatter = d3.time.format("%m/%d/%Y");
  
  
  // var parseDate = d3.time.format("%m/%e/%Y").parse,
  //         bisectDate = d3.bisector(function(d) { return d.date; }).left,
  //         formatValue = d3.format(","),
  //         dateFormatter = d3.time.format("%m/%d/%y");
  
  // Set the ranges
  var x_new = d3.time.scale().range([0, width_new]);
  var y_new = d3.scale.linear().range([height_new, 0]);
  
  var formatPercent_new = d3.format(".0%");
  // Define the axes
  var xAxis_new = d3.svg.axis().scale(x_new)
      .orient("bottom").ticks(10);
  
  var yAxis_new = d3.svg.axis().scale(y_new)
      .orient("left").ticks(10);
  
  // Define the line
  var	valueline_new = d3.svg.line()
      .x(function(d) { return x_new(d.Date); })
      .y(function(d) { return y_new(d.lt20); })
      .defined(function(d) { return d.lt20; });
  // var	valueline5 = d3.svg.line()
  //     .x(function(d) { return x(d.Date); })
  //     .y(function(d) { return y(d.EMCLOUD); });
  var	valueline2_new = d3.svg.line()
      .x(function(d) { return x_new(d.Date); })
      .y(function(d) { return y_new(d.bt2040); })
      .defined(function(d) { return d.bt2040; });
  
  var	valueline3_new = d3.svg.line()
  .x(function(d) { return x_new(d.Date); })
  .y(function(d) { return y_new(d.gt40); })
  .defined(function(d) { return d.gt40; });
    
    
  
  // Adds the svg canvas
  var svg_new = d3.select("body")
  .append("svg")
    .attr("viewBox", "0 0 " + (width_new + margin_new.left + margin_new.right) + " " + (height_new + margin_new.top + margin_new.bottom))
    .attr("preserveAspectRatio", "xMinYMid meet")
    .classed("svg-style", true)
      // .attr("width", width + margin.left + margin.right)
      // .attr("height", height + margin.top + margin.bottom)
  .append("g")
      .attr("transform", 
            "translate(" + margin_new.left + "," + margin_new.top + ")")
      .classed("g-style_new", true);
  // gridlines in x axis function
  function make_x_axis() {        
      return d3.svg_new.axis()
          .scale(x_new)
           .orient("bottom")
           .ticks(5)
  }
  
  // gridlines in y axis function
  function make_y_axis() {        
      return d3.svg_new.axis()
          .scale(y_new)
          .orient("left")
          .ticks(5);
  }
  
  var text_new = svg_new.selectAll("text");
  
  // function redraw(){
  // // Extract the width and height that was computed by CSS.
  // var width = chartDiv.clientWidth;
  // var height = chartDiv.clientHeight;
  // //console.log(width)
  // // Use the extracted size to set the size of an SVG element.
  // svg_new
  //   .attr("width", width + margin.left + margin.right)
  //   .attr("height", height + margin.top + margin.bottom);
  // }
  
  // // Draw for the first time to initialize.
  // redraw();
  
  // // Redraw based on the new size whenever the browser window is resized.
  // window.addEventListener("resize", redraw);        
  // var csvData = "Indexes.csv";
  // function updateAllTime() {
  //   var csvData = "Indexes.csv";
  // }
  // function updateYearly() {
  //   var csvData = "IndexesYearly.csv";
  // }
  // function updateMonthly() {
  //   var csvData = "IndexesMonthly.csv";
  // }
  // function updateWeekly() {
  //   var csvData = "IndexesWeekly.csv";
  // }
  // Get the data
  function return_tooltip_text(value){
    if (isNaN(value)==false){return value.toFixed(1)}
    else {return ""}
  }
  function clean_mult_val(value){
    if (isNaN(value)==false){return value.toFixed(1)}
    else {return 0}
  }
  var dataVar_new, DateVar_new, LT20Var_new, BT2040Var_new, GT40Var_new;
  function mousemove1_new(dataValues, Date, lt20, bt2040, gt40, focus_new,x0) {
  //console.log("aloha");
  // var htmlString = focus.select(".tooltip-snp")[0][0];
  // console.log(htmlString);
  // var x0 = x.invert(d3.mouse(this)[0]);
    var i = bisectDate(dataValues, x0, 1);
    var d0 = dataValues[i - 1];
    var d1 = dataValues[i];
    var d = x0 - d0.Date > d1.Date - x0 ? d1 : d0;
    focus_new.attr("transform", "translate(" + x_new(d.Date) + "," + y_new(d.gt40) + ")");
    focus_new.select(".tooltip-date_new").text(dateFormatter(d.Date));
    focus_new.select(".tooltip-lt20").text('<20%: ' + return_tooltip_text(d.lt20));
    focus_new.select(".tooltip-bt2040").text('20%-40%: ' + return_tooltip_text(d.bt2040));
    focus_new.select(".tooltip-gt40").text('>40%: ' + return_tooltip_text(d.gt40));
    // focus.select(".tooltip-emcloud").text(formatValue((d.EMCLOUD*100).toFixed(1))+"%");
  }
  var new_ft;
  var performances;
  var new_ft_mcs;
  var proper_tickers;
  
  var removeVerticals_new = []
  var removeType_new = []
  var insurance_bool_new = true;
  var payments_bool_new = true;
  var banking_bool_new = true;
  var lending_bool_new = true;
  var saas_bool_new = true;
  var wealth_bool_new = true;
  var re_bool_new = true;
  var spac_bool_new = true;
  var dl_bool_new = true;
  var ipo_bool_new = true;
  $('#insurance_bool_new').change(function() {
      insurance_bool_new = this.checked;
      insur_check_box_clicked_new();
    });
    $('#payments_bool_new').change(function() {
      payments_bool_new = this.checked;
      pay_check_box_clicked_new();
    });
    $('#banking_bool_new').change(function() {
      banking_bool_new = this.checked;
      bank_check_box_clicked_new();
    });
    $('#lending_bool_new').change(function() {
      lending_bool_new = this.checked;
      lending_check_box_clicked_new();
    });
    $('#saas_bool_new').change(function() {
      saas_bool_new = this.checked;
      saas_check_box_clicked_new();
    });
    $('#wealth_bool_new').change(function() {
      wealth_bool_new = this.checked;
      wealth_check_box_clicked_new();
    });
    $('#re_bool_new').change(function() {
      re_bool_new = this.checked;
      re_check_box_clicked_new();
    });
    $('#spac_bool_new').change(function() {
      spac_bool_new = this.checked;
      spac_check_box_clicked_new();
    });
    $('#dl_bool_new').change(function() {
      dl_bool_new = this.checked;
      dl_check_box_clicked_new();
    });
    $('#ipo_bool_new').change(function() {
      ipo_bool_new = this.checked;
      ipo_check_box_clicked_new();
    });
  function insur_check_box_clicked_new(){
    if (insurance_bool_new){    
      const index = removeVerticals_new.indexOf('Insurance');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('Insurance')}
    updateAllTime_new() 
  };
  function pay_check_box_clicked_new(){
    if (payments_bool_new){    
      const index = removeVerticals_new.indexOf('Payments');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('Payments')}
    updateAllTime_new() 
  };
  function bank_check_box_clicked_new(){
    if (banking_bool_new){    
      const index = removeVerticals_new.indexOf('Banking');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('Banking')}
    updateAllTime_new() 
  };

  function lending_check_box_clicked_new(){
    if (lending_bool_new){    
      const index = removeVerticals_new.indexOf('Lending');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('Lending')}
    updateAllTime_new() 
  };
  function saas_check_box_clicked_new(){
    if (saas_bool_new){    
      const index = removeVerticals_new.indexOf('B2B SaaS');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('B2B SaaS')}
    updateAllTime_new() 
  };
  function wealth_check_box_clicked_new(){
    if (wealth_bool_new){    
      const index = removeVerticals_new.indexOf('Wealth/Asset Mgmt');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('Wealth/Asset Mgmt')}
    updateAllTime_new() 
  };
  function re_check_box_clicked_new(){
    if (re_bool_new){    
      const index = removeVerticals_new.indexOf('PropTech');
      if (index > -1) {
        removeVerticals_new.splice(index, 1);
      }
    }
    else{removeVerticals_new.push('PropTech')}
    updateAllTime_new() 
  };
  function spac_check_box_clicked_new(){
    if (spac_bool_new){    
      const index = removeType_new.indexOf('SPAC');
      if (index > -1) {
        removeType_new.splice(index, 1);
      }
    }
    else{removeType_new.push('SPAC')}
    updateAllTime_new() 
  };
  function dl_check_box_clicked_new(){
    if (dl_bool_new){    
      const index = removeType_new.indexOf('Direct Listing');
      if (index > -1) {
        removeType_new.splice(index, 1);
      }
    }
    else{removeType_new.push('Direct Listing')}
    updateAllTime_new() 
  };
  function ipo_check_box_clicked_new(){
    if (ipo_bool_new){    
      const index = removeType_new.indexOf('IPO');
      if (index > -1) {
        removeType_new.splice(index, 1);
      }
    }
    else{removeType_new.push('IPO')}
    updateAllTime_new() 
  };
  var container = d3.select("body").append("div")
      .style("width",width);

  // var possible_companies_new;
  // d3.csv("possible_companies.csv", function(possible_comps){
  //   possible_companies_new=possible_comps;
  //   });
  
  var ft_multiples = [];
  d3.csv("multiples.csv", function(d){
      for (var i = 0; i < d.length; i++) {
        ft_multiples.push(d[i])
      }
        });
  d3.csv("possible_companies.csv", function(error, data) {
      // Scale the range of the data
      // console.log(ft_multiples)
      // console.log(data)
      var possible_comps_filtered_new = data.filter(function (el) {
        return (removeType_new.indexOf(el.type) < 0)&(removeVerticals_new.indexOf(el.vertical) < 0); 
      });
      proper_tickers_new = possible_comps_filtered_new.map(a => a.ticker)
      filtered_ft_multiples = ft_multiples.map(function(a) {return _.pick(a,proper_tickers_new)})
      //console.log(filtered_ft_multiples)
      // worstGrowth = []
      // averageGrowth = []
      // bestGrowth = []
      cleaned_multiples = []
      categories = ["Less than 20%","Between 20%40%","Greater than 40%"]
      var multiple_ds = [];
      for (index = 0; index < filtered_ft_multiples.length; index++) {
        //console.log(filtered_ft_multiples[index])
        ticker_vals = Object.keys(filtered_ft_multiples[index]).map((key) => filtered_ft_multiples[index][key])
        row_obj = {Date: parseDate(ft_multiples[index]['Date']), lt20: 0, bt2040: 0, gt40: 0}
        categories.forEach(function (category, i) {
          filtered = ticker_vals.filter(function (str) { return str.includes(category) })
          count = 0;
          multiple_sum = 0.0;
          filtered.forEach(function (item){
            row = item.split(",");
            multiple = row[0]
            if(multiple != 'nan'){
              multiple_sum+=parseFloat(multiple)
              // if ((index == filtered_ft_multiples.length - 1)&(category == 'Between 20%40%')){
              //   console.log(multiple)
              // }
              // if(index == 20){
              // console.log(multiple);
              // console.log(multiple_sum)
              // } 
              count++;
            }
          });
          if (count>0){
            average_mult = multiple_sum/parseFloat(count).toFixed(1);
          }
          else {average_mult = NaN;}
          if (category == "Less than 20%"){
            row_obj['lt20'] = average_mult
          }
          else if (category == "Between 20%40%"){
            // console.log(multiple_sum)
            // console.log(parseFloat(count).toFixed(1))
            row_obj['bt2040'] = average_mult
          }    
          else if (category == "Greater than 40%"){
            row_obj['gt40'] = average_mult
          }                 
        });
        multiple_ds.push(row_obj);
        
      }
      // console.log(multiple_ds)
      //multiple_ds.forEach(function(d) {console.log(Math.max(d.lt20, d.bt2040, d.gt40))})
      x_new.domain(d3.extent(multiple_ds, function(d) { return d.Date; }));
      min_value = d3.min(multiple_ds, function(d) {return Math.min(clean_mult_val(d.lt20), clean_mult_val(d.bt2040), clean_mult_val(d.gt40)); })
      max_value = d3.max(multiple_ds, function(d) {return Math.max(clean_mult_val(d.lt20), clean_mult_val(d.bt2040), clean_mult_val(d.gt40)); })
      if (window.innerWidth<780){
        y_new.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*1]);
      }
      else{
        y_new.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.35]);
        //console.log([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.3]);
      }
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar_new = multiple_ds;
      DateVar_new = multiple_ds.Date;
      LT20Var_new = multiple_ds.lt20; 
      BT2040Var_new = multiple_ds.bt2040;
      GT40Var_new = multiple_ds.gt40;
      // EMCLOUDVAR = data.EMCLOUD;
      // Add the valueline path.
      svg_new.append("path")
          .attr("class", "line_new")
          .style("stroke", "#5B56EE")
          .attr("d", valueline_new(multiple_ds));

      svg_new.append("path")   // change the line
        .attr("class", "line2_new")
        .style("stroke", "#A6D0D8")
        .attr("d", valueline2_new(multiple_ds));
      
      svg_new.append("path")   // change the line
        .attr("class", "line3_new")
        .style("stroke", "#FC714D")
        .attr("d", valueline3_new(multiple_ds));
      
      // svg.append("path")   // change the line
      //   .attr("class", "line5")
      //   .style("stroke", "#A9A9A9")
      //   .attr("d", valueline5(data));
  
      // Add the X Axis
  
    // add the Y gridlines
  
  
      svg_new.append("g")
          .attr("class", "xaxis_new")
          .attr("transform", "translate(0," + height_new + ")")
          .call(xAxis_new);
  
      // Add the Y Axis
      svg_new.append("g")
          .attr("class", "yaxis_new")
          .call(yAxis_new);
      // svg.append("g")         
      // .attr("class", "grid")
      // .attr("style","color: black;")
      // .attr("transform", "translate(0," + height + ")")
      // .call(make_x_axis()
      //     .tickSize(-height, 0, 0)
      //     .tickFormat("")
      // )
      // svg.append("g")			
      // .attr("class", "grid")
      // .call(make_y_axis()
      //         .tickSize(-width, 0, 0)
      //         .tickFormat("")
      // )
      var focus_new = svg_new.append("g")
          .attr("class", "focus_new")
          .attr("style","display: none; position: absolute; z-index: -1;");
    
      focus_new.append("circle")
          .attr("r", 5);
      focus_new.append("rect")
          .attr("width", 1)
          .attr("y", -1000)
          .attr("height", 1600)
          .attr("style","border-style: dotted; position: absolute;");
      var t_box_new = focus_new.append("rect")
          .attr("class", "hover-data-style")
          .attr("width", 120)
          .attr("height", 90)
          .attr("x", -75)
          .attr("y", -120)
          .attr("rx", 4)
          .attr("ry", 4)
          .attr("style","fill:white; stroke:black;");

      var t_date_new = focus_new.append("text")
          .attr("class", "tooltip-date_new")
          .attr("x", -60)
          .attr("y", -100);
  
      var t_lt20 = focus_new.append("text").classed("tooltip-lt20", true)
          .attr("style","fill: #5B56EE;").attr("x",-60).attr("y",-80);
      
      var t_bt2040 = focus_new.append("text")
          .attr("class", "tooltip-bt2040")
          .attr("x", -60)
          .attr("y", -60)
          .attr("style","fill: #A6D0D8;");
  
      var t_gt40 = focus_new.append("text")
          .attr("class", "tooltip-gt40")
          .attr("x", -60)
          .attr("y", -40)
          .attr("style","fill: #FC714D;");

      // focus.append("text")
      //     .attr("x", -55)
      //     .attr("y", -20)
      //     .text("Cloud:")
      //     .attr("style","fill: #A9A9A9;");
  
      // focus.append("text")
      //     .attr("class", "tooltip-emcloud")
      //     .attr("x", 10)
      //     .attr("y", -20)
      //     .attr("style","fill: #A9A9A9;");
      resized_new();
      var htmlString = focus_new[0][0];
      //console.log(htmlString);
      var engHello = "hello"
      svg_new.append("rect")
          .attr("class", "mouseOverlay")
          .attr("width", width_new)
          .attr("height", height_new)
          .on("mouseover", function() { focus_new.style('display',null); })
          .on("mouseout", function() { focus_new.attr("style","display: none; position: absolute;"); })
          .on("mousemove", function(){var x0_new = x_new.invert(d3.mouse(this)[0]); mousemove1_new(dataVar_new, DateVar_new, LT20Var_new, BT2040Var_new, GT40Var_new,focus_new,x0_new);});
          // .on("mousemove", mousemove);
    //   function mousemove() {
    //   var x0 = x.invert(d3.mouse(this)[0]),
    //         i = bisectDate(data, x0, 1),
    //         d0 = data[i - 1],
    //         d1 = data[i],
    //         d = x0 - d0.Date > d1.Date - x0 ? d1 : d0;
    //     focus.attr("transform", "translate(" + x(d.Date) + "," + y(d.Fintech) + ")");
    //     focus.select(".tooltip-date").text(dateFormatter(d.Date));
    //     focus.select(".tooltip-fintech").text(formatValue(d.Fintech.toFixed(2)));
    //     focus.select(".tooltip-EMCLOUD").text(formatValue(d.EMCLOUD.toFixed(2)));
    //     focus.select(".tooltip-nasdaq").text(formatValue(d.NASDAQ.toFixed(2)));
    //     focus.select(".tooltip-snp").text(formatValue(d.SNP500.toFixed(2)));
    //     var htmlString = focus.select(".tooltip-snp")[0][0];
    //     console.log(htmlString);
    // }
    function resized_new() {
        // if (window.innerWidth<780){
        //   y.domain([d3.min(data, function(d) {return Math.min(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })-.3, d3.max(data, function(d) { return Math.max(d.NASDAQ, d.EMCLOUD, d.Fintech, d.SNP500); })*2]);
        // }
        var scale_new = width / window.innerWidth;
        // y_domain = y_new.domain();
        // console.log(y_domain)
        // Update SVG height to maintain aspect ratio
        svg_new.attr("height",height / scale_new);
        const newWidth = d3.select("svg").style("width");
        const newFontSize = 40 * (600 / parseInt(newWidth));
        d3.selectAll(".tick").select("text")
            .style("font-size", newFontSize)
        // Increase text scale proportional to overall scale reduction
        // e.g. 3/4 of the original width -> scale text by 4/3
        var n = 2;
        // t_box.attr("height",110+((scale)>1 ? 1+((scale-1)/n*10) : 1));
        // t_box.attr("y",-140-((scale)>1 ? 1+((scale-1)/n*10) : 1));
        t_box_new.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
        t_date_new.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
        t_lt20.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
        t_bt2040.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
        t_gt40.attr("transform","scale(" + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + "," + ((scale_new)>1 ? 1+(scale_new-1)/n : 1) + ")");
        // t_date.attr("y",-120-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
        // t_ft.attr("y",-100-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
        // t_EMCLOUD.attr("y",-80-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
        // t_nasdaq.attr("y",-60-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
        // t_snp.attr("y",-40-((scale)>1 ? 1+(scale-1)/n : 1)*-7);
        //console.log(((scale)>1 ? 1+(scale-1)/10 : 1))
        }
    window.addEventListener("resize", function() {
      resized_new();
    });
    //     function resize_all(){
    //       resized();
    //       resized_new();
    //     }
  });
  function updateAllTime_new() {
    // Get the data again

    d3.csv("possible_companies.csv", function(error, data) {
      // console.log(data)
      var possible_comps_filtered_new = data.filter(function (el) {
        return (removeType_new.indexOf(el.type) < 0)&(removeVerticals_new.indexOf(el.vertical) < 0); 
      });
      proper_tickers_new = possible_comps_filtered_new.map(a => a.ticker)
      filtered_ft_multiples = ft_multiples.map(function(a) {return _.pick(a,proper_tickers_new)})
      // worstGrowth = []
      // averageGrowth = []
      // bestGrowth = []
      cleaned_multiples = []
      categories = ["Less than 20%","Between 20%40%","Greater than 40%"]
      var multiple_ds = [];
      for (index = 0; index < filtered_ft_multiples.length; index++) {
        //console.log(filtered_ft_multiples[index])
        ticker_vals = Object.keys(filtered_ft_multiples[index]).map((key) => filtered_ft_multiples[index][key])
        row_obj = {Date: parseDate(ft_multiples[index]['Date']), lt20: 0, bt2040: 0, gt40: 0}
        categories.forEach(function (category, index) {
          filtered = ticker_vals.filter(function (str) { return str.includes(category) })
          count = 0;
          multiple_sum = 0.0;
          if (filtered.length>0){
          filtered.forEach(function (item){
            row = item.split(",");
            multiple = row[0]
            // if (index == 20){
            //   console.log(multiple)
            // }
            if(multiple != 'nan'){
              multiple_sum+=parseFloat(multiple)
              count++;
            }
          });}
          
          
          if (count>0){
            average_mult = multiple_sum/count.toFixed(1);}
          else {average_mult = NaN;}
          // console.log(average_mult)
          if (category == "Less than 20%"){
            row_obj['lt20'] = average_mult
          }
          else if (category == "Between 20%40%"){
            row_obj['bt2040'] = average_mult
            // console.log('This is the mult for 20-40% growth')
            // console.log(row_obj)
            // console.log(average_mult)
            // console.log('end')
          }    
          else if (category == "Greater than 40%"){
            row_obj['gt40'] = average_mult
          }                 
        });
        multiple_ds.push(row_obj);
        
      }
    
      //console.log(proper_tickers)
      // console.log(data)
      //!!!Market Cap Weighting Index!!!
      
    	x_new.domain(d3.extent(multiple_ds, function(d) { return d.Date; }));
      min_value = d3.min(multiple_ds, function(d) {return Math.min(clean_mult_val(d.lt20), clean_mult_val(d.bt2040), clean_mult_val(d.gt40)); })
      max_value = d3.max(multiple_ds, function(d) {return Math.max(clean_mult_val(d.lt20), clean_mult_val(d.bt2040), clean_mult_val(d.gt40)); })
      if (window.innerWidth<780){
        y_new.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*1]);
      }
      else{
        y_new.domain([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.35]);
        //console.log([min_value - (max_value-min_value)*.1, max_value + (max_value-min_value)*.3]);
      }
      // document.getElementById("emCloudValueJS").innerHTML = ((data[data.length-1].SNP500*100)<0?"":"+") + (data[data.length-1].EMCLOUD*100).toFixed(1);
      dataVar_new = multiple_ds;
      DateVar_new = multiple_ds.Date;
      LT20Var_new = multiple_ds.lt20; 
      BT2040Var_new = multiple_ds.bt2040;
      GT40Var_new = multiple_ds.gt40;
      // var today = new Date();
      // today.setFullYear(today.getFullYear()-1);
      // console.log(today.toLocaleDateString())

      // EMCLOUDVAR = data.EMCLOUD;
    // Select the section we want to apply our changes to
    lt20_nanCount = 0;
    bt2040_nanCount = 0;
    gt40_nanCount = 0;
    for (row = 0; row < multiple_ds.length; row++) {
      if(isNaN(multiple_ds[row].lt20)){lt20_nanCount++}
      if(isNaN(multiple_ds[row].bt2040)){bt2040_nanCount++}
      if(isNaN(multiple_ds[row].gt40)){gt40_nanCount++}
    }
    var svg_new = d3.select("body").transition();
    //IMPORTANT IF THERE ARE ISSUES WITH THE GRAPH
    // if(lt20_nanCount>=multiple_ds.length){
    //   multiple_ds.forEach(function(d) {d.lt20 = .001})
    // }
    // if(bt2040_nanCount>=multiple_ds.length){
    //   multiple_ds.forEach(function(d) {d.bt2040 = .001})
    // }
    // if(gt40_nanCount>=multiple_ds.length){
    //   multiple_ds.forEach(function(d) {d.gt40 = .001})
    // }
    // Make the changes
    // console.log(multiple_ds)
      svg_new.select(".line_new")   // change the line
          .duration(750)
          .attr("class", "line_new")
          .style("stroke", "#5B56EE")
          .attr("d", valueline_new(multiple_ds));

      // // svg_new.select(".line_new").remove();
      // multiple_ds.forEach(function(d) {d.lt20 = 1.1})
      // console.log(multiple_ds)
      // svg_new.select(".line_new")   // change the line
      // .duration(750)
      // .attr("class", "line_new")
      // .style("stroke", "#5B56EE")
      // .attr("d", valueline_new(multiple_ds));
    
      svg_new.select(".line2_new")   // change the line
          .duration(750)
          .attr("class", "line2_new")
          .style("stroke", "#A6D0D8")
          .attr("d", valueline2_new(multiple_ds));


      svg_new.select(".line3_new")   // change the line
          .duration(750)
          .attr("class", "line3_new")
          .style("stroke", "#FC714D")
          .attr("d", valueline3_new(multiple_ds));

  
        // svg.select(".line5")   // change the line
        //     .duration(750)
        //     .attr("class", "line5")
        //     .style("stroke", "#A9A9A9")
        //     .attr("d", valueline5(data));
        svg_new.select(".xaxis_new") // change the x axis
            .duration(750)
            .call(xAxis_new.tickFormat(d3.time.format("%Y")).ticks(5));

        svg_new.select(".yaxis_new") // change the y axis
            .duration(750)
            .call(yAxis_new);
    });
}
$(document).ready(function() {
    setTimeout(function(){
      updateAllTime_new();
      console.log('Loaded multiples graph')
    },1001); 
});
    </script>
        <div class="legend" id="performance">
          <div>
            <li><span class="fintech_legend"></span>&#60;20% Rev. Growth</li>
            <li><span class="EMCLOUD_legend"></span> 20-40% Rev. Growth</li>
            <li><span class="snp500_legend"></span> &#62;40% Rev. Growth</li>
          </div>
        </div>
<div class="section_headers_div">
  <h2 class="section_headers" id = "companies">All Companies</h2>
</div>

<!-- <div id="DivContent"></div> -->

<!-- The MIT License (MIT)

Copyright (c) 2018 Derek Eder

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE. -->

<!-- https://github.com/derekeder/csv-to-html-table -->

<div class="container-fluid">
  <!-- <h2 class="section_headers" style = "margin-bottom: -2%;">All Companies</h2> -->
  <main class="row">
      <div class="col">
          <div id="table-container" class = "table-design"></div>
      </div>
  </main>
</div>


<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.bundle.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="jquery.csv.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="csv-to-html-table.js"></script>

<script>
  function format_link(link) {
      if (link)
          return "<a href='" + link + "' target='_blank'>" + link + "</a>";
      else return "";
  }

  CsvToHtmlTable.init({
      csv_path: "FinTech_key_data_output.csv",
      element: "table-container",
      allow_download: true,
      csv_options: {
          separator: ",",
          delimiter: '"'
      },
      datatables_options: {
          paging: false,
          info: false,
          column:[{data: 'Price ($)',render: function ( data, type, row ) {return '$'+ data;}}]
      },
      custom_formatting: [
          [4, format_link]
      ]
  });
</script>

<br />
<br />
<br />

<div class="section_headers_div">
  <h2 class="section_headers" id = "future">Potential Future Additions</h2>
</div>
<div class = "future_additions">
  <!-- <div class="mobile-container">
    <div class="topnav">
      <a href="#home" class="active" onclick="myDropdown()">&lt; 3 Months Since Listing</a>
      <div id="myLinks">
      </div>
    </div>
    
  </div>
  <div class="mobile-container">
    <div class="topnav">
      <a href="#home" class="active" onclick="myDropdown3()">Announced IPOs, SPACs, & DLs</a>
      <div id="myLinks3">
      
      </div>
    </div>
  </div> -->
  <div class="mobile-container">

    <!-- Top Navigation Menu -->
    <div class="topnav">
      <a href="#home" class="active" onclick="myDropdown4()">Potential Future Listings</a>
      <div id="myLinks4">
        <a href="https://stripe.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Stripe</a>
        <a href="https://www.klarna.com/us/"style = "vertical-align: middle;"><div class="parallelogram"></div> Klarna</a>
        <a href="https://plaid.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Plaid</a>
        <a href="https://www.checkout.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Checkout</a>
        <a href="https://www.revolut.com/en-US"style = "vertical-align: middle;"><div class="parallelogram"></div> Revolut</a>
        <a href="https://www.chime.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Chime</a>
        <a href="https://n26.com/en-eu/bank-account"style = "vertical-align: middle;"><div class="parallelogram"></div> N26</a>
        <a href="https://www.brex.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Brex</a>
        <a href="https://www.deel.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Deel</a>
        <a href="https://gusto.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Gusto</a>
      </div>
    </div>
    <!-- End smartphone / tablet look -->
  </div>
  <div class="mobile-container">

    <!-- Top Navigation Menu -->
    <div class="topnav">
      <a href="#home" class="active" onclick="myDropdown4()">Companies Removed from Index</a>
      <div id="myLinks4">
        <a href="https://www.avalara.com/us/en/index.html"style = "vertical-align: middle;"><div class="parallelogram"></div> Avalara</a>
        <a href="https://www.billtrust.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Billtrust</a>
        <a href="https://katapult.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Katapult</a>
        <a href="https://www.metromile.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Metromile</a>
        <a href="https://www.joinroot.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Root Insurance</a>
        <a href="https://sezzle.com/"style = "vertical-align: middle;"><div class="parallelogram"></div> Sezzle</a>
      </div>
    </div>
    <!-- End smartphone / tablet look -->
  </div>
</div>
<script>
  function myDropdown() {
    var x = document.getElementById("myLinks");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
  function myDropdown2() {
    var x = document.getElementById("myLinks2");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
  function myDropdown3() {
    var x = document.getElementById("myLinks3");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
  function myDropdown4() {
    var x = document.getElementById("myLinks4");
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  }
  function clipboardCopy() {
  // /* Get the text field */
  // var copyText = document.getElementById("contact_us");
  // /* Select the text field */
  // copyText.select();
  // copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  navigator.clipboard.writeText("fintechindex@fprimecapital.com");
  
  /* Alert the copied text */
  alert("Copied our email: " + "fintechindex@fprimecapital.com");
}
// document.getElementById("sof_download_tracking").addEventListener ("click", clipboardCopy);
// function download_tracking(){
//   // d3.csv("visits.csv", function(data) {
//   //   for (var i = 0; i < data.length; i++) {
//   //       console.log(data[i].Date);
//   //       console.log(data[i].Cookie);
//   //   }
//   // });
//   console.log("button was clicked");
// }
</script>
<script>
  function download_tracking(){
  // d3.csv("visits.csv", function(data) {
  //   for (var i = 0; i < data.length; i++) {
  //       console.log(data[i].Date);
  //       console.log(data[i].Cookie);
  //   }
  // });
  console.log("button was clicked");
  }
</script>
<div class="section_headers_div">
  <h2 class="section_headers" id = "thesis">State of Fintech</h2>
</div>
<!-- <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRqv1L86HOgTAvddIP2R-BrCGyf9E9ibKDTeaFv8GyKL6kzxgoAic5CmTEP-CCqhXJBS6_b_UK4khFO/embed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="670" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" class = "slides_frame"></iframe> -->
<!-- <div class = "dd_toggle"> -->
<div class = "dd_toggle">
  <button class="base-button" style = "max-width: 170px; min-height: 68px; margin-left: 8px;" id = "2022_SOF_presentation">
    <span class="base-button__text">2023 State of Fintech</span>
  </button>
  <button class="base-button" style = "max-width: 170px; min-height: 68px; margin-left: 8px;" id = "2021_SOF_presentation">
    <span class="base-button__text">2022 State of Fintech</span>
  </button>
  <!-- <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "payments_presentation">
    <span class="base-button__text">Payments</span>
</button>
  <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "banking_presentation">
    <span class="base-button__text">Banking</span>
  </button>
  <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "WAM_presentation">
    <span class="base-button__text">Wealth & Asset. Mgmt</span>
  </button> -->
</div>
<div class = "dd_toggle", style = "margin-top: -25px">
  <!-- <button class="base-button" style = "max-width: 170px; min-height: 68px; margin-left: 8px;" id = "2022_SOF_presentation">
    <span class="base-button__text">2023 State of Fintech</span>
  </button>
  <button class="base-button" style = "max-width: 170px; min-height: 68px; margin-left: 8px;" id = "2021_SOF_presentation">
    <span class="base-button__text">2022 State of Fintech</span>
  </button> -->
  <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "payments_presentation">
    <span class="base-button__text">Payments</span>
</button>
  <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "banking_presentation">
    <span class="base-button__text">Banking</span>
  </button>
  <button class="base-button" style = "max-width: 170px;  min-height: 68px; margin-left: 8px;" id = "WAM_presentation">
    <span class="base-button__text">Wealth & Asset. Mgmt</span>
  </button>
</div>
<!-- </div> -->
<script>
document.getElementById("2022_SOF_presentation").onclick = function(){
    document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vSsz3Kh9q4zxDemooHYe66ZG5VXY0iUKCHVi8vfVM9464cKwGyQlVaUt7nsWjAjHUK0Qk6etzFpZISC/embed?start=false&loop=false&delayms=60000"
    // document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vSb5TCJK8fumtnZCYPDsEueEV1lhqLJM-LYc5DX3bNWF4ncb0wqqqCjp5CmTdksgraswnKiiLicoBcR/embed?start=false&loop=false&delayms=60000"
    if (showAgain ==false) {
    document.getElementById("presentation_download").href = "2023 State of Fintech Report.pdf"
    document.getElementById("presentation_download").download = "2023 State of Fintech Report.pdf"
    }
};
document.getElementById("2021_SOF_presentation").onclick = function(){
    document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vSPrZVJVbw6qo4FusyqSrqii-U2vqXyfEWhkdJKM8zVEw60sxyN7h5PHB9shXQZY9-dP7JZYqB9TY3q/embed?start=false&loop=false&delayms=60000"
    if (showAgain ==false) {
    document.getElementById("presentation_download").href = "All 2022 State of Fintech Reports.pdf"
    document.getElementById("presentation_download").download = "All 2022 State of Fintech Reports.pdf"
    }
    //showPopup();
};
  document.getElementById("payments_presentation").onclick = function(){
    document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vQeQXY4ZhJu8zZvRxvGXEOsROWwjP300nlnfdNnDwtVv6f5YDq0rFIrBW0pv_bkIaefZq74OykP1dm1/embed?start=false&loop=false&delayms=60000"
    if (showAgain ==false) {
    document.getElementById("presentation_download").href = "SoF - Payments.pdf"
    document.getElementById("presentation_download").download = "SoF - Payments.pdf"
    }
    //showPopup();
};
document.getElementById("banking_presentation").onclick = function(){
    document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vRM8XQWoJT8ROOzOmj-HgAu7D2uM8WnQov4y8EWhQPGNgINBeASybKX8wz1QDCTgNYJMPgLkRMX1cJX/embed?start=false&loop=false&delayms=60000"
    if (showAgain ==false) {
    document.getElementById("presentation_download").href = "SoF - Banking.pdf"
    document.getElementById("presentation_download").download = "SoF - Banking.pdf"
    }
    //showPopup();
};
document.getElementById("WAM_presentation").onclick = function(){
    document.getElementById("google_iframe").src = "https://docs.google.com/presentation/d/e/2PACX-1vRQXHiiaCNWCNAH4K2NB4JO2g6AjIeljnZb-KOmkcMOY4rY5m_MOOLeLJrrXLjxYwYKAtoyXXEBVAIK/embed?start=false&loop=false&delayms=60000"
    if (showAgain ==false) {
    document.getElementById("presentation_download").href = "SoF - WAM.pdf"
    document.getElementById("presentation_download").download = "SoF - WAM.pdf"
    }
    //showPopup();
};

</script>

<!-- <iframe id = "google_iframe" src="https://docs.google.com/presentation/d/e/2PACX-1vSb5TCJK8fumtnZCYPDsEueEV1lhqLJM-LYc5DX3bNWF4ncb0wqqqCjp5CmTdksgraswnKiiLicoBcR/embed?start=false&loop=false&delayms=60000" frameborder="0" width="950" height="600" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" class = "slides_frame"></iframe> -->
<iframe id = "google_iframe" src="https://docs.google.com/presentation/d/e/2PACX-1vSsz3Kh9q4zxDemooHYe66ZG5VXY0iUKCHVi8vfVM9464cKwGyQlVaUt7nsWjAjHUK0Qk6etzFpZISC/embed?start=false&loop=false&delayms=60000" frameborder="0" width="950" height="600" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" class = "slides_frame"></iframe>
<div class = "sof_download">
  <!-- <a class="base-button" id = "presentation_download" style = "max-width: 70px;" onclick="downloadMessage()"> -->
  <a class="base-button" id = "presentation_download" style = "max-width: 70px;">
    <span class="base-button__text"><i class="fa fa-download"></i>Download</span>
  </a>
</div>

<div id="mc_embed_signup" class = "popup">
  <button id = "popup-close" class="btn-close"  aria-label="Close alert" type="button" data-close>
  </button>
  <form action="https://fprimecapital.us11.list-manage.com/subscribe/post?u=1429371588554bec356ef353d&amp;id=949b4fa4d6&amp;f_id=00d18ce0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
      <h2 class = 'section_headers' style = "font-size: 1.8em; margin-left: 5%;" id = "popup_title"><div class="parallelogram" style = 'background:#000; margin-right: 15px;margin-bottom: 5px;transform: skew(-15deg, 0deg);	width: 10px; height: 20px;'></div>Subscribe</h2>

<div class="mc-field-group" style = "margin-left: 5%; width: 80%;">
<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
<span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
</div>
<!-- <div class="mc-field-group input-group"> </div> -->

<div id="mce-responses" class="clear">
  <div class="response" id="mce-error-response" style="display:none"></div>
  <div class="response" id="mce-success-response" style="display:none"></div>
</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_1429371588554bec356ef353d_949b4fa4d6" tabindex="-1" value=""></div>
  <div class="clear" style = "margin-left: 5%; width: 80%;">
    <!-- <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"> -->
    <!-- <a class="base-button" id = "presentation_download" style = "max-width: 70px;"></a> -->
    <button type="submit" class="base-button" style = "max-width: 120px;  min-height: 20px; margin-left: 8px;" id = "mc-embedded-subscribe">
      <span class="base-button__text" style = "font-family: MessinaSans, serif;">Submit</span>
    </button>
  </div>
  </div>
</form>
</div>


<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
<script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='MMERGE5';ftypes[5]='radio';fnames[6]='MMERGE6';ftypes[6]='text';fnames[7]='MMERGE7';ftypes[7]='text';fnames[8]='MMERGE8';ftypes[8]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>

<script>
  var showAgain = true
  var stop_scroll_popup = false
  var allow_submit_download = false
  var deep_dive_section = '2022_SoF'
  //eraseCookie("subscription_cookie")
  var pref = getCookie('subscription_cookie');
  if (pref == "have subscribed"){
    document.getElementById("presentation_download").href = "2023 State of Fintech Report.pdf"
    document.getElementById("presentation_download").download = "2023 State of Fintech Report.pdf"
  }
  function toggleSubscriptionEntry(deep_dive,download_button){
    if (download_button == false){
      deep_dive_section = deep_dive
      if (pref == "have subscribed"){
        if (deep_dive_section =='2022_SoF'){
          document.getElementById("presentation_download").href = "2023 State of Fintech Report.pdf"
          document.getElementById("presentation_download").download = "2023 State of Fintech Report.pdf"
        }
        else if (deep_dive_section =='2021_SoF'){
          document.getElementById("presentation_download").href = "All 2022 State of Fintech Reports.pdf"
          document.getElementById("presentation_download").download = "All 2022 State of Fintech Reports.pdf"
        }
        else if (deep_dive_section =='payments'){
          document.getElementById("presentation_download").href = "SoF - Payments.pdf"
          document.getElementById("presentation_download").download = "SoF - Payments.pdf"
        }
        else if (deep_dive_section =='banking'){
          document.getElementById("presentation_download").href = "SoF - Banking.pdf"
          document.getElementById("presentation_download").download = "SoF - Banking.pdf"
        }
        else if (deep_dive_section =='wam'){
          document.getElementById("presentation_download").href = "State of Fintech - WAM section.pdf"
          document.getElementById("presentation_download").download = "SoF - WAM.pdf"
        }
      }
    }
    else{
    var popup = document.getElementById("mc_embed_signup");
    if (((popup.style.display == "none")|(popup.style.display == ""))&&(showAgain==true)&&(stop_scroll_popup ==true)&&(pref!="have subscribed")) {
      stop_scroll_popup = false;
      popup.style.display = "block";
      document.getElementById("popup_title").innerHTML = "<div class='parallelogram' style = 'background:#000; margin-right: 15px;margin-bottom: 5px;transform: skew(-15deg, 0deg);	width: 10px; height: 20px;'></div>Subscribe to Download"
    } 
    }
    // popup.classList.toggle("show");
  }

  function closePopUp(){
    var popup = document.getElementById("mc_embed_signup");
    popup.style.display = "none";
    stop_scroll_popup = true;
    allow_submit_download = true;
  };

  function downloadMessage(){
    if (showAgain == true){
    alert("Please subscribe to our email content in order to download our presentations");
    }
  };

  function download(presentation_code,allow_download) {
    if (allow_download==true){
        if (presentation_code =='2022_SoF'){
          file = "2023 State of Fintech Report.pdf"
          name = "2023 State of Fintech Report"
        }
        else if (presentation_code =='2021_SoF'){
          file = "All 2022 State of Fintech Reports.pdf"
          name = "All 2022 State of Fintech Reports"
        }
        else if (presentation_code =='payments'){
          file = "SoF - Payments.pdf"
          name = "SoF - Payments.pdf"
        }
        else if (presentation_code =='banking'){
          file = "SoF - Banking.pdf"
          name = "SoF - Banking.pdf"
        }
        else{
          file = "State of Fintech - WAM section.pdf"
          name = "SoF - WAM.pdf"
        }
        //creating an invisible element
        var element = document.createElement('a');
        element.setAttribute('href',
        'data:text/plain;charset=utf-8, '
        + encodeURIComponent(name));
        element.setAttribute("href",file);
        element.setAttribute('download', file);
    
        // Above code is equivalent to
        // <a href="path of file" download="file name">
    
        document.body.appendChild(element);
    
        //onClick property
        element.click();
    
        document.body.removeChild(element);
         }
        }

  $(window).scroll(function (e) {
    if (pref!="have subscribed"){
    var popup = document.getElementById("mc_embed_signup");
    available = $(document).height();
    percentage_of_page = 0.2;
    graph_popup_start = available * percentage_of_page;
    //graph_popup_end = available * .3;
    presentation_popup_start = available * .6;
    presentation_popup_stop = available * .68;
    height = $(window).scrollTop();
    if (height > graph_popup_start) {
      if (stop_scroll_popup==false){
        popup.style.display = "block";
      }
      else{
        popup.style.display = "none";
      }
    } 
    // else if (((height > presentation_popup_start)&&(height<=presentation_popup_stop))){
    //   if (showAgain==true){
    //     popup.style.display = "block";
    //   }
    // }
    else {
        popup.style.display = "none";
    }
  }
});
  // document.cookie = "MCPopupSubscribed=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/";
  // document.cookie = "MCPopupClosed=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/";
  // var fileContent = "My epic novel that I don't want to lose.";
  // var bb = new Blob([fileContent ], { type: 'text/plain' });
  // var a = document.createElement('a');
  // a.download = 'download.txt';
  // a.href = window.URL.createObjectURL(bb);
  // a.click();
  function getCookie(cname) {
  var name = cname + "=";
  var decodedCookie = decodeURIComponent(document.cookie);
  var ca = decodedCookie.split(';');
  for(var i = 0; i <ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

function setCookie(cname, cvalue, exdays) {
  var d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  var expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function eraseCookie(cname) {   
    document.cookie = cname +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}

// pref = getCookie('subscription_cookie');
// console.log(pref)

// pref = getCookie('subscription_cookie');
// console.log(pref)

  document.getElementById("2022_SOF_presentation").addEventListener("click", function(){toggleSubscriptionEntry('2022_SoF',false)});
  document.getElementById("2021_SOF_presentation").addEventListener("click", function(){toggleSubscriptionEntry('2021_SoF',false)});
  document.getElementById("payments_presentation").addEventListener("click", function(){toggleSubscriptionEntry('payments',false)});
  document.getElementById("banking_presentation").addEventListener("click", function(){toggleSubscriptionEntry('banking',false)});
  document.getElementById("WAM_presentation").addEventListener("click", function(){toggleSubscriptionEntry('wam',false)});
  document.getElementById('presentation_download').addEventListener("click", function(){toggleSubscriptionEntry('',true)});
  document.getElementById('mc-embedded-subscribe').addEventListener("click", function(){download(deep_dive_section,allow_submit_download)});
  document.getElementById("popup-close").addEventListener("click", function(){closePopUp()});
	var mc1Submitted = false;
	jQuery('#mc-embedded-subscribe-form').on('submit reset', function (event) {
		console.log(event);
		 if ("submit" === event.type) {
		 	mc1Submitted = true;
       stop_scroll_popup = true;
       let have_subscribed = "have subscribed"; //Or bool, or int
        let daysToExists = 180; //how many days cookie will be valid
        setCookie('subscription_cookie', have_subscribed, daysToExists);
		 } else if ( "reset" === event.type && mc1Submitted ) {
      document.getElementById("mc_embed_signup").style.display = "none"
      showAgain = false;
      if (deep_dive_section =='2022_SoF'){
        document.getElementById("presentation_download").href = "2023 State of Fintech Report.pdf"
        document.getElementById("presentation_download").download = "2023 State of Fintech Report.pdf"
      }
      else if (deep_dive_section =='2021_SoF'){
        document.getElementById("presentation_download").href = "All 2022 State of Fintech Reports.pdf"
        document.getElementById("presentation_download").download = "All 2022 State of Fintech Reports.pdf"
      }
      // else if (deep_dive_section =='payments'){
      //   document.getElementById("presentation_download").href = "SoF - Payments.pdf"
      //   document.getElementById("presentation_download").download = "SoF - Payments.pdf"
      // }
      // else if (deep_dive_section =='banking'){
      //   document.getElementById("presentation_download").href = "SoF - Banking.pdf"
      //   document.getElementById("presentation_download").download = "SoF - Banking.pdf"
      // }
      // else{
      //   document.getElementById("presentation_download").href = "State of Fintech - WAM section.pdf"
      //   document.getElementById("presentation_download").download = "SoF - WAM.pdf"
      // }
		 }
	});
</script>
<!-- <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQGfrU1cNA8eGZefs2lJKS7XefKKt6mdT8msZKaIzcjRvqx7ZFTtb5738bTmd1ILx4S6Qw-qLamzgqP/embed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="670" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" class = "slides_frame"></iframe> -->
<!-- <div class="about_us">
  <p><a href="https://fprimecapital.com/" style = "color:#5B56EE;">F-Prime Capital</a> has been investing in Fintech for over 50 years, and together with our international sister fund <a href="https://eightroads.com/en/"  style = "color:#5B56EE;">Eight Roads</a>, has one of the largest Fintech portfolios in venture capital. We have had the privilege of backing iconic companies like Alibaba, Flywire, Toast, Xoom, Kensho, Quovo, Snapdocs, Recurly and Papaya.</p>
</div> -->

<div class="section_headers_div">
  <h2 class="section_headers" id = "about">About Us</h2>
  <!-- <p class = 'fprime_fintech_desc'><a href="https://fprimecapital.com/" style = 'color: #5B56EE;'>F-Prime Capital</a> has been investing in fintech for over 50 years, and together with our international sister fund <a href="https://eightroads.com/en/" style = 'color: #5B56EE;'>Eight Roads</a>, has one of the largest Fintech portfolios in venture capital. <br><br> We have had the privilege of backing iconic companies like Alibaba, Flywire, Toast, Kensho, Quovo, and Snapdocs.</p> -->
</div>
<div class = 'about_us_info'>
  <div>
  <p class = 'fprime_fintech_desc'><a href="https://fprimecapital.com/" style = 'color: #5B56EE;'>F-Prime Capital</a> has been investing in Fintech for over 50 years, and together with our international sister fund <a href="https://eightroads.com/en/" style = 'color: #5B56EE;'>Eight Roads</a>, has one of the largest Fintech portfolios in venture capital. <br><br> We have had the privilege of backing iconic companies like Alibaba, Flywire, Toast, Kensho, Quovo, and Snapdocs.</p>
  </div>
  <div class= "about_us_buttons">
    <button class="base-button" onclick="clipboardCopy()">
      <span class="base-button__text">Contact Us</span>
    </button>
    <a class="base-button" href = "/Methodology">
      <span class="base-button__text">Methodology</span>
    </a>
  </div>
</div>
<img class = 'fintech_images' src="fprime_fintech_logos_2.png">

<!-- <div class= 'future-ipo-img'>
  <img src="Future Additions.PNG">
</div> -->





    


            <div id="filter-pagination" class="filter-pagination">
              
            </div>
          </div>

        </div>
      </section>
    </div>

    <div class="page__prime-container">
      <div class="prime-bg" style="background-image: url(&#x27;wp-content/themes/f-prime-wp-theme/static/img/prime-line-bg.svg&#x27;);"></div>
    </div>
</div>



</div>      </div><!-- end #main -->
</div>
    <!-- </div></main>end .main__wrapper -->
    <footer class="footer footer--light ">
  <div class="footer__inner">
    <div class="footer__row">
      <div class="footer__col">
        <div class="footer__summary">
          <p>We create and invest in <a href="https://fprimecapital.com/sector/healthcare">healthcare</a> and <a href="https://fprimecapital.com/sector/technology">technology</a> companies that improve lives&nbsp;all&nbsp;over the world.</p>
          <!-- <p><a href="https://fprimecapital.com/">F-Prime Capital</a> has been investing in fintech for over 50 years, and together with our international sister fund <a href="https://eightroads.com/en/">Eight Roads</a>, has one of the largest Fintech portfolios in venture capital. We have had the privilege of backing iconic companies like Alibaba, Flywire, Toast, Xoom, Kensho, Quovo, Snapdocs, Recurly and Papaya.</p> -->

        </div>
      </div>
      <div class="footer__col">
        <h4 class="footer__h">
          Jump to &mdash;
        </h4>
        <div class="tooltip">Hover over me
          <span class="tooltiptext">Tooltip text</span>
        </div>
        <ul class="footer__list">
          <li class="footer__list-item">
            <a href="https://fprimecapital.com/about" class="footer__link about_tooltip" target="_self">About Us</a>
          </li>
                      <li class="footer__list-item">
              <a href="https://fprimecapital.com/sector/technology?type=company&page_num=1&categories=73" class="footer__link" target="_self">Portfolio</a>
            </li>
                      <li class="footer__list-item">
              <a href ="https://fprimecapital.com/people?page_num=1&sector=54" class="footer__link" target="_self">People</a>
            </li>
                      <li class="footer__list-item">
              <a href="https://fprimecapital.com/news" class="footer__link" target="_self">News</a>
            </li>
                      <li class="footer__list-item">
              <a href="https://fprimecapital.com/stories" class="footer__link" target="_self">Stories</a>
            </li>
                      <li class="footer__list-item">
              <a href="https://fprimecapital.com/fbri" class="footer__link" target="_self">FBRI</a>
            </li>
                      <li class="footer__list-item">
              <a href="https://jobs.fprimecapital.com" class="footer__link" target="_self">Jobs</a>
            </li>
                  </ul>
      </div>
      <div class="footer__col">
        <ul class="footer__list footer__list--border">

                      <li class="footer__list-item">
              <address class="footer__address">
                <strong>Cambridge</strong><br>
                1 Main St.<br>
                 13th Floor<br>                Cambridge, MA 02142
              </address>
            </li>
                      <li class="footer__list-item">
              <address class="footer__address">
                <strong>London</strong><br>
                33 Foley Street<br>
                                London, W1W 7TL
              </address>
            </li>
                      <li class="footer__list-item">
              <address class="footer__address">
                <strong>San Francisco</strong><br>
                116 New Montgomery  Street<br>
                 Suite 810<br>                San Francisco, CA 94105
              </address>
            </li>
                    <li class="footer__list-item footer__list-item-social">
            <a class="footer__list-linkedin" href="https://www.linkedin.com/company/f-prime-capital-partners"><img src="wp-content/themes/f-prime-wp-theme/static/img/linkedin.svg"></a>
            <a class="footer__list-twitter" href="https://twitter.com/fprimecapital"><img src="wp-content/themes/f-prime-wp-theme/static/img/twitter.svg"></a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer__row">
      <div class="footer__legal">
        <ul class="footer__list footer__list--inline">
          <li class="footer__list-item">&copy; 2021</li>
                      <li class="footer__list-item">
              <a class="footer__legal-link" href="https://fprimecapital.com/terms-use" target="_self">Terms of Use</a>
            </li>
                      <li class="footer__list-item">
              <a class="footer__legal-link" href="https://fprimecapital.com/privacy-policy" target="_self">Privacy Policy</a>
            </li>
            <!-- <p style = "margin-top:-1.2%;margin-bottom:2.2%;">Have any questions? Contact us at fintechindex@fprimecapital.com</p> -->
                  </ul>
        <p class="footer__advisory">The information on these pages is intended solely for the benefit of entrepreneurs seeking venture capital investments. F-Prime is not offering investment advisory services nor is it offering to sell securities. F-Prime provides advisory services as Impresa Management LLC. The list of portfolio companies includes investments made by Fidelity Ventures and Eight Roads. FBRI is an affiliate of F-Prime and a subsidiary of FMR LLC.</p>
      </div>
    </div>
  </div>
</footer>
<script>
  window.onscroll = function() {myFunction()};
  
  var navbar = document.getElementById("navbar");
  // var navbar_background = document.getElementById("navbar_background");
  var sticky = navbar.offsetTop;

  
  function myFunction() {
    if (window.pageYOffset >= sticky) {
      navbar.classList.add("sticky")
      // navbar_background.add("sticky");
      document.getElementById('navbar').id = 'navbar2';
      // document.getElementById('navbar_background').id = 'navbar_background2';
    } else {
      navbar.classList.remove("sticky");
      // navbar_background.remove("sticky");
      document.getElementById('navbar2').id = 'navbar';
      // document.getElementById('navbar_background2').id = 'navbar_background';
    }
  }
  </script>
    <script type="text/javascript" src="wp-includes/js/underscore.min_ver%3D1.8.3.js" id="underscore-js"></script>
<script type="text/javascript" src="wp-includes/js/backbone.min_ver%3D1.4.0.js" id="backbone-js"></script>
<script type="text/javascript" id="wp-api-request-js-extra">
/* <![CDATA[ */
var wpApiSettings = {"root":"https:\/\/fprimecapital.com\/wp-json\/","nonce":"bc0827be24","versionString":"wp\/v2\/"};
/* ]]> */
</script>
<script type="text/javascript" src="wp-includes/js/api-request.min_ver%3D5.6.js" id="wp-api-request-js"></script>
<script type="text/javascript" src="wp-includes/js/wp-api.min_ver%3D5.6.js" id="wp-api-js"></script>
<script type="text/javascript" id="fprime_scripts-js-extra">
/* <![CDATA[ */
var fp_php_vars = {"site_theme_link":"https:\/\/fprimecapital.com\/wp-content\/themes\/f-prime-wp-theme"};
/* ]]> */
</script>
<script type="text/javascript" src="wp-content/themes/f-prime-wp-theme/static/build/js/main_ver%3D1.2.2.js" id="fprime_scripts-js"></script>
<script type="text/javascript" src="wp-includes/js/wp-embed.min_ver%3D5.6.js" id="wp-embed-js"></script>


  
  </body>
</html>
